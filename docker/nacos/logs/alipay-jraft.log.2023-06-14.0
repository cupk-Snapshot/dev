2023-06-14 00:00:08,303 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 00:06:37,629 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 00:09:35,435 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 2, cost 0 ms.

2023-06-14 00:30:08,307 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 1 ms.

2023-06-14 00:36:37,630 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 00:39:35,436 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 2, cost 0 ms.

2023-06-14 01:00:08,304 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 01:03:49,814 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 01:03:49,828 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 01:03:49,829 INFO Fail to find the next candidate.

2023-06-14 01:03:49,862 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=19 ms

2023-06-14 01:03:49,862 INFO Shutting down FSMCaller...

2023-06-14 01:03:49,864 INFO onShutdown.

2023-06-14 01:03:49,865 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@7f8e908[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 01:03:49,867 INFO The number of active nodes decrement to 2.

2023-06-14 01:03:49,867 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4f0e702e[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 01:03:49,867 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 01:03:49,868 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 01:03:49,868 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 01:03:49,868 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 01:03:49,869 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 01:03:49,875 INFO Stop the RaftGroupService successfully.

2023-06-14 01:03:49,875 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 01:03:49,876 INFO Fail to find the next candidate.

2023-06-14 01:03:49,879 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 01:03:49,880 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=2 ms

2023-06-14 01:03:49,880 INFO Shutting down FSMCaller...

2023-06-14 01:03:49,880 INFO onShutdown.

2023-06-14 01:03:49,884 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@61389107[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 01:03:49,884 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3fee9bd8[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 01:03:49,884 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 01:03:49,884 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 01:03:49,884 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 01:03:49,884 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 01:03:49,889 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 01:03:49,889 INFO Stop the RaftGroupService successfully.

2023-06-14 01:03:49,889 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 01:03:49,889 INFO Fail to find the next candidate.

2023-06-14 01:03:49,894 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 01:03:49,894 INFO The number of active nodes decrement to 1.

2023-06-14 01:03:49,899 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=4 ms

2023-06-14 01:03:49,899 INFO Shutting down FSMCaller...

2023-06-14 01:03:49,899 INFO onShutdown.

2023-06-14 01:03:49,901 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@71a9dc91[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 01:03:49,901 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@37445ee4[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 01:03:49,909 INFO The number of active nodes decrement to 0.

2023-06-14 01:03:49,909 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@44146eca[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 01:03:49,910 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 01:03:49,922 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@83f0f97[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 01:03:49,922 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 01:03:49,923 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@676219e1[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 10263].

2023-06-14 01:03:49,923 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 01:03:49,927 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@13ea470[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 13].

2023-06-14 01:03:49,927 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 01:03:49,928 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 01:03:49,928 INFO Stop the RaftGroupService successfully.

2023-06-14 01:03:49,934 INFO Shutdown managed channel: 172.18.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=10, target=172.18.0.4:7848}}.

2023-06-14 01:03:49,936 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 01:03:49,936 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 01:03:49,943 INFO The channel 172.18.0.4:7848 is in state: SHUTDOWN.

2023-06-14 01:03:49,943 WARN This channel 172.18.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 01:03:49,949 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 01:03:49,997 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@33921d5f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 6394].

2023-06-14 01:34:14,993 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 01:34:15,166 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 01:34:15,421 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 01:34:15,423 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 01:34:15,425 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 01:34:15,428 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 01:34:15,434 INFO The number of active nodes increment to 1.

2023-06-14 01:34:15,869 INFO Starts FSMCaller successfully.

2023-06-14 01:34:15,882 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 01:34:15,895 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 01:34:15,898 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 01:34:15,955 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=42 ms

2023-06-14 01:34:15,956 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 01:34:15,963 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 01:34:15,969 WARN RPC server is not started in RaftGroupService.

2023-06-14 01:34:15,969 INFO Start the RaftGroupService successfully.

2023-06-14 01:34:15,995 INFO onLeaderStart: term=1.

2023-06-14 01:34:16,010 INFO The number of active nodes increment to 2.

2023-06-14 01:34:16,063 INFO Starts FSMCaller successfully.

2023-06-14 01:34:16,065 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 01:34:16,068 INFO Node <naming_instance_metadata/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 01:34:16,071 INFO Node <naming_instance_metadata/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 01:34:16,078 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=2 ms

2023-06-14 01:34:16,079 INFO Node <naming_instance_metadata/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 01:34:16,083 WARN RPC server is not started in RaftGroupService.

2023-06-14 01:34:16,084 INFO Start the RaftGroupService successfully.

2023-06-14 01:34:16,095 INFO onLeaderStart: term=1.

2023-06-14 01:34:16,100 INFO The number of active nodes increment to 3.

2023-06-14 01:34:16,172 INFO Starts FSMCaller successfully.

2023-06-14 01:34:16,172 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 01:34:16,184 INFO Node <naming_service_metadata/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 01:34:16,184 INFO Node <naming_service_metadata/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 01:34:16,186 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=1 ms

2023-06-14 01:34:16,187 INFO Node <naming_service_metadata/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 01:34:16,190 WARN RPC server is not started in RaftGroupService.

2023-06-14 01:34:16,190 INFO Start the RaftGroupService successfully.

2023-06-14 01:34:16,198 INFO onLeaderStart: term=1.

2023-06-14 01:34:16,369 INFO Creating new channel to: 172.18.0.4:7848.

2023-06-14 01:34:16,573 INFO The channel 172.18.0.4:7848 is in state: CONNECTING.

2023-06-14 01:34:17,051 INFO The channel 172.18.0.4:7848 is in state: READY.

2023-06-14 01:34:17,051 INFO The channel 172.18.0.4:7848 has successfully established.

2023-06-14 01:54:03,285 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2023-06-14 01:54:03,285 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2023-06-14 01:58:04,444 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2023-06-14 01:58:04,444 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2023-06-14 02:03:10,547 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2023-06-14 02:03:10,547 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2023-06-14 02:21:20,269 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 02:21:20,274 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 02:21:20,276 INFO Fail to find the next candidate.

2023-06-14 02:21:20,289 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=6 ms

2023-06-14 02:21:20,289 INFO Shutting down FSMCaller...

2023-06-14 02:21:20,295 INFO onShutdown.

2023-06-14 02:21:20,296 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@341f57c0[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 02:21:20,299 INFO The number of active nodes decrement to 2.

2023-06-14 02:21:20,302 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@51bec94a[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 02:21:20,303 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 02:21:20,304 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 02:21:20,304 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 02:21:20,305 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 02:21:20,308 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 02:21:20,311 INFO Stop the RaftGroupService successfully.

2023-06-14 02:21:20,312 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 02:21:20,319 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 02:21:20,318 INFO Fail to find the next candidate.

2023-06-14 02:21:20,326 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=2 ms

2023-06-14 02:21:20,326 INFO Shutting down FSMCaller...

2023-06-14 02:21:20,326 INFO onShutdown.

2023-06-14 02:21:20,330 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@7236965a[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 02:21:20,330 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@97509f5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 02:21:20,330 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 02:21:20,330 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 02:21:20,330 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 02:21:20,330 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 02:21:20,331 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 02:21:20,331 INFO Stop the RaftGroupService successfully.

2023-06-14 02:21:20,331 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 02:21:20,334 INFO Fail to find the next candidate.

2023-06-14 02:21:20,334 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 02:21:20,335 INFO The number of active nodes decrement to 1.

2023-06-14 02:21:20,337 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=3 ms

2023-06-14 02:21:20,337 INFO Shutting down FSMCaller...

2023-06-14 02:21:20,338 INFO onShutdown.

2023-06-14 02:21:20,338 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@7329ea51[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 02:21:20,339 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@52326f60[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 02:21:20,353 INFO The number of active nodes decrement to 0.

2023-06-14 02:21:20,359 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@18640cd1[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 02:21:20,359 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 02:21:20,364 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6215cf33[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 02:21:20,364 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 02:21:20,365 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@673dc749[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3387].

2023-06-14 02:21:20,366 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 02:21:20,367 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2e366da7[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 02:21:20,372 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 02:21:20,374 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 02:21:20,374 INFO Stop the RaftGroupService successfully.

2023-06-14 02:21:20,389 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 02:21:20,400 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 02:21:20,401 INFO Shutdown managed channel: 172.18.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=10, target=172.18.0.4:7848}}.

2023-06-14 02:21:20,409 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 02:21:20,410 INFO The channel 172.18.0.4:7848 is in state: SHUTDOWN.

2023-06-14 02:21:20,410 WARN This channel 172.18.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 02:21:20,433 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@61b24d94[Shutting down, pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 2260].

2023-06-14 09:54:38,344 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 09:54:38,464 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 09:54:38,626 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 09:54:38,627 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 09:54:38,627 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 09:54:38,630 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 09:54:38,634 INFO The number of active nodes increment to 1.

2023-06-14 09:54:39,161 INFO Starts FSMCaller successfully.

2023-06-14 09:54:39,187 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 09:54:39,212 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 09:54:39,218 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 09:54:39,303 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=66 ms

2023-06-14 09:54:39,304 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 09:54:39,308 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 09:54:39,312 WARN RPC server is not started in RaftGroupService.

2023-06-14 09:54:39,312 INFO Start the RaftGroupService successfully.

2023-06-14 09:54:39,335 INFO onLeaderStart: term=1.

2023-06-14 09:54:39,388 INFO The number of active nodes increment to 2.

2023-06-14 09:54:39,468 INFO Starts FSMCaller successfully.

2023-06-14 09:54:39,469 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 09:54:39,475 INFO Node <naming_instance_metadata/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 09:54:39,479 INFO Node <naming_instance_metadata/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 09:54:39,486 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=5 ms

2023-06-14 09:54:39,487 INFO Node <naming_instance_metadata/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 09:54:39,489 WARN RPC server is not started in RaftGroupService.

2023-06-14 09:54:39,489 INFO Start the RaftGroupService successfully.

2023-06-14 09:54:39,490 INFO onLeaderStart: term=1.

2023-06-14 09:54:39,529 INFO The number of active nodes increment to 3.

2023-06-14 09:54:39,604 INFO Starts FSMCaller successfully.

2023-06-14 09:54:39,605 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 09:54:39,619 INFO Node <naming_service_metadata/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 09:54:39,619 INFO Node <naming_service_metadata/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 09:54:39,621 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=2 ms

2023-06-14 09:54:39,621 INFO Node <naming_service_metadata/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 09:54:39,622 WARN RPC server is not started in RaftGroupService.

2023-06-14 09:54:39,622 INFO Start the RaftGroupService successfully.

2023-06-14 09:54:39,645 INFO onLeaderStart: term=1.

2023-06-14 09:54:39,805 INFO Creating new channel to: 172.18.0.4:7848.

2023-06-14 09:54:39,929 INFO The channel 172.18.0.4:7848 is in state: CONNECTING.

2023-06-14 09:54:40,439 INFO The channel 172.18.0.4:7848 is in state: READY.

2023-06-14 09:54:40,439 INFO The channel 172.18.0.4:7848 has successfully established.

2023-06-14 10:12:31,959 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2023-06-14 10:12:31,960 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2023-06-14 10:14:41,627 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2023-06-14 10:14:41,627 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2023-06-14 10:22:16,913 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2023-06-14 10:22:16,913 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2023-06-14 10:42:31,935 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 1 to 2, cost 3 ms.

2023-06-14 10:44:41,626 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 1 to 2, cost 0 ms.

2023-06-14 10:52:16,911 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 1 to 2, cost 1 ms.

2023-06-14 11:12:31,922 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 2, cost 1 ms.

2023-06-14 11:14:41,624 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 2, cost 0 ms.

2023-06-14 11:22:16,910 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 11:42:31,923 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 2, cost 1 ms.

2023-06-14 11:44:41,623 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 2, cost 0 ms.

2023-06-14 11:52:16,910 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 12:12:31,923 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 12:14:41,624 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 2, cost 0 ms.

2023-06-14 12:22:16,910 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 12:42:31,924 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 12:44:41,624 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 2, cost 0 ms.

2023-06-14 12:52:16,911 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 13:02:59,633 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 13:02:59,640 INFO Fail to find the next candidate.

2023-06-14 13:02:59,643 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 13:02:59,666 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=11 ms

2023-06-14 13:02:59,667 INFO Shutting down FSMCaller...

2023-06-14 13:02:59,669 INFO onShutdown.

2023-06-14 13:02:59,670 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@40f84ab2[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 13:02:59,672 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@112f13f6[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 13:02:59,672 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 13:02:59,673 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 13:02:59,673 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 13:02:59,673 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 13:02:59,673 INFO The number of active nodes decrement to 2.

2023-06-14 13:02:59,675 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 13:02:59,677 INFO Stop the RaftGroupService successfully.

2023-06-14 13:02:59,677 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 13:02:59,690 INFO Fail to find the next candidate.

2023-06-14 13:02:59,700 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 13:02:59,704 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=4 ms

2023-06-14 13:02:59,704 INFO Shutting down FSMCaller...

2023-06-14 13:02:59,704 INFO onShutdown.

2023-06-14 13:02:59,707 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@2a143dbb[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 13:02:59,708 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@67781bea[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 13:02:59,708 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 13:02:59,708 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 13:02:59,708 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 13:02:59,708 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 13:02:59,714 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 13:02:59,714 INFO Stop the RaftGroupService successfully.

2023-06-14 13:02:59,714 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 13:02:59,716 INFO Fail to find the next candidate.

2023-06-14 13:02:59,718 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 13:02:59,724 INFO The number of active nodes decrement to 1.

2023-06-14 13:02:59,737 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=13 ms

2023-06-14 13:02:59,740 INFO Shutting down FSMCaller...

2023-06-14 13:02:59,740 INFO onShutdown.

2023-06-14 13:02:59,745 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@723de096[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 13:02:59,745 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@55bd1270[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 13:02:59,753 INFO The number of active nodes decrement to 0.

2023-06-14 13:02:59,771 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@232928fc[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 13:02:59,772 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 13:02:59,774 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6662a28a[Shutting down, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 13:02:59,774 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 13:02:59,776 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@31ae1df7[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 13555].

2023-06-14 13:02:59,777 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 13:02:59,779 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4095d4f6[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 18].

2023-06-14 13:02:59,779 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 13:02:59,800 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 13:02:59,800 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 13:02:59,800 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTDOWN.

2023-06-14 13:02:59,800 INFO Stop the RaftGroupService successfully.

2023-06-14 13:02:59,802 INFO Shutdown managed channel: 172.18.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=10, target=172.18.0.4:7848}}.

2023-06-14 13:02:59,803 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 13:02:59,809 INFO The channel 172.18.0.4:7848 is in state: SHUTDOWN.

2023-06-14 13:02:59,809 WARN This channel 172.18.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 13:02:59,876 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@77c8214c[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 10116].

2023-06-14 13:43:08,679 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 13:43:08,775 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 13:43:08,939 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 13:43:08,940 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 13:43:08,940 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 13:43:08,944 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 13:43:08,949 INFO The number of active nodes increment to 1.

2023-06-14 13:43:09,335 INFO Starts FSMCaller successfully.

2023-06-14 13:43:09,344 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 13:43:09,354 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 13:43:09,356 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 13:43:09,387 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=22 ms

2023-06-14 13:43:09,388 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 13:43:09,391 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 13:43:09,414 WARN RPC server is not started in RaftGroupService.

2023-06-14 13:43:09,414 INFO Start the RaftGroupService successfully.

2023-06-14 13:43:09,422 INFO onLeaderStart: term=1.

2023-06-14 13:43:09,451 INFO The number of active nodes increment to 2.

2023-06-14 13:43:09,540 INFO Starts FSMCaller successfully.

2023-06-14 13:43:09,540 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 13:43:09,545 INFO Node <naming_instance_metadata/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 13:43:09,548 INFO Node <naming_instance_metadata/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 13:43:09,552 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=1 ms

2023-06-14 13:43:09,553 INFO Node <naming_instance_metadata/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 13:43:09,553 WARN RPC server is not started in RaftGroupService.

2023-06-14 13:43:09,553 INFO Start the RaftGroupService successfully.

2023-06-14 13:43:09,554 INFO onLeaderStart: term=1.

2023-06-14 13:43:09,560 INFO The number of active nodes increment to 3.

2023-06-14 13:43:09,705 INFO Starts FSMCaller successfully.

2023-06-14 13:43:09,706 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 13:43:09,719 INFO Node <naming_service_metadata/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 13:43:09,719 INFO Node <naming_service_metadata/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 13:43:09,721 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=1 ms

2023-06-14 13:43:09,721 INFO Node <naming_service_metadata/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 13:43:09,721 WARN RPC server is not started in RaftGroupService.

2023-06-14 13:43:09,721 INFO Start the RaftGroupService successfully.

2023-06-14 13:43:09,726 INFO onLeaderStart: term=1.

2023-06-14 13:43:09,769 INFO Creating new channel to: 172.18.0.4:7848.

2023-06-14 13:43:09,893 INFO The channel 172.18.0.4:7848 is in state: CONNECTING.

2023-06-14 13:43:10,389 INFO The channel 172.18.0.4:7848 is in state: READY.

2023-06-14 13:43:10,389 INFO The channel 172.18.0.4:7848 has successfully established.

2023-06-14 14:04:34,749 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2023-06-14 14:04:34,750 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2023-06-14 14:07:52,544 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2023-06-14 14:07:52,545 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2023-06-14 14:10:51,829 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2023-06-14 14:10:51,829 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2023-06-14 14:34:34,710 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 1 to 2, cost 2 ms.

2023-06-14 14:37:52,547 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 1 to 2, cost 3 ms.

2023-06-14 14:40:51,831 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 1 to 2, cost 1 ms.

2023-06-14 14:47:03,611 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 14:47:03,626 INFO Fail to find the next candidate.

2023-06-14 14:47:03,626 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 14:47:03,654 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=13 ms

2023-06-14 14:47:03,654 INFO Shutting down FSMCaller...

2023-06-14 14:47:03,656 INFO onShutdown.

2023-06-14 14:47:03,661 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@67031b10[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 14:47:03,666 INFO The number of active nodes decrement to 2.

2023-06-14 14:47:03,667 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2eee5178[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 14:47:03,667 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 14:47:03,667 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 14:47:03,668 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 14:47:03,668 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 14:47:03,672 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 14:47:03,675 INFO Stop the RaftGroupService successfully.

2023-06-14 14:47:03,676 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 14:47:03,684 INFO Fail to find the next candidate.

2023-06-14 14:47:03,687 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 14:47:03,701 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=3 ms

2023-06-14 14:47:03,701 INFO Shutting down FSMCaller...

2023-06-14 14:47:03,701 INFO onShutdown.

2023-06-14 14:47:03,701 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@5e89de9f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 14:47:03,702 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@e4b8976[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 14:47:03,702 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 14:47:03,702 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 14:47:03,702 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 14:47:03,702 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 14:47:03,705 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 14:47:03,705 INFO Stop the RaftGroupService successfully.

2023-06-14 14:47:03,706 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 14:47:03,707 INFO Fail to find the next candidate.

2023-06-14 14:47:03,709 INFO The number of active nodes decrement to 1.

2023-06-14 14:47:03,714 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 14:47:03,717 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=8 ms

2023-06-14 14:47:03,718 INFO Shutting down FSMCaller...

2023-06-14 14:47:03,722 INFO onShutdown.

2023-06-14 14:47:03,724 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@100078c8[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 14:47:03,724 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@42524387[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 14:47:03,726 INFO The number of active nodes decrement to 0.

2023-06-14 14:47:03,732 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@447ad3c0[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 14:47:03,732 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 14:47:03,735 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@78baa2ac[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 14:47:03,736 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 14:47:03,737 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3e61c49a[Shutting down, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 4599].

2023-06-14 14:47:03,737 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 14:47:03,739 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@232928fc[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 6].

2023-06-14 14:47:03,740 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 14:47:03,741 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 14:47:03,744 INFO Stop the RaftGroupService successfully.

2023-06-14 14:47:03,745 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 14:47:03,745 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 14:47:03,756 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 14:47:03,753 INFO Shutdown managed channel: 172.18.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=10, target=172.18.0.4:7848}}.

2023-06-14 14:47:03,764 INFO The channel 172.18.0.4:7848 is in state: SHUTDOWN.

2023-06-14 14:47:03,765 WARN This channel 172.18.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 14:47:03,796 INFO Connection disconnected: /172.18.0.4:57644

2023-06-14 14:47:03,833 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@5a60c6bd[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3916].

2023-06-14 15:39:02,308 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 15:39:02,443 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 15:39:02,606 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 15:39:02,607 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 15:39:02,608 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 15:39:02,612 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 15:39:02,615 INFO The number of active nodes increment to 1.

2023-06-14 15:39:02,928 INFO Starts FSMCaller successfully.

2023-06-14 15:39:02,942 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 15:39:02,963 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 15:39:02,966 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 15:39:03,013 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=37 ms

2023-06-14 15:39:03,013 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 15:39:03,017 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 15:39:03,027 WARN RPC server is not started in RaftGroupService.

2023-06-14 15:39:03,027 INFO Start the RaftGroupService successfully.

2023-06-14 15:39:03,034 INFO onLeaderStart: term=1.

2023-06-14 15:39:03,067 INFO The number of active nodes increment to 2.

2023-06-14 15:39:03,154 INFO Starts FSMCaller successfully.

2023-06-14 15:39:03,155 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 15:39:03,169 INFO Node <naming_instance_metadata/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 15:39:03,185 INFO Node <naming_instance_metadata/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 15:39:03,189 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=3 ms

2023-06-14 15:39:03,189 INFO Node <naming_instance_metadata/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 15:39:03,193 WARN RPC server is not started in RaftGroupService.

2023-06-14 15:39:03,193 INFO Start the RaftGroupService successfully.

2023-06-14 15:39:03,205 INFO onLeaderStart: term=1.

2023-06-14 15:39:03,206 INFO The number of active nodes increment to 3.

2023-06-14 15:39:03,261 INFO Starts FSMCaller successfully.

2023-06-14 15:39:03,261 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 15:39:03,263 INFO Node <naming_service_metadata/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 15:39:03,263 INFO Node <naming_service_metadata/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 15:39:03,264 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=1 ms

2023-06-14 15:39:03,265 INFO Node <naming_service_metadata/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 15:39:03,266 WARN RPC server is not started in RaftGroupService.

2023-06-14 15:39:03,266 INFO Start the RaftGroupService successfully.

2023-06-14 15:39:03,269 INFO onLeaderStart: term=1.

2023-06-14 15:39:03,467 INFO Creating new channel to: 172.18.0.4:7848.

2023-06-14 15:39:03,619 INFO The channel 172.18.0.4:7848 is in state: CONNECTING.

2023-06-14 15:39:04,313 INFO The channel 172.18.0.4:7848 is in state: READY.

2023-06-14 15:39:04,314 INFO The channel 172.18.0.4:7848 has successfully established.

2023-06-14 15:39:04,484 ERROR Fail to connect 172.18.0.4:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 0.333841234s. [closed=[], open=[[buffered_nanos=177069268, remote_addr=172.18.0.4/172.18.0.4:7848]]].

2023-06-14 15:39:04,484 ERROR Fail to connect peer 172.18.0.4:7848 to get leader for group naming_persistent_service_v2.

2023-06-14 15:39:04,485 ERROR Fail to connect 172.18.0.4:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 0.862124201s. [closed=[], open=[[buffered_nanos=705004255, remote_addr=172.18.0.4/172.18.0.4:7848]]].

2023-06-14 15:39:04,485 ERROR Fail to connect peer 172.18.0.4:7848 to get leader for group naming_instance_metadata.

2023-06-14 15:39:04,502 ERROR Fail to connect 172.18.0.4:7848, remoting exception: java.util.concurrent.TimeoutException.

2023-06-14 15:39:04,503 ERROR Fail to connect peer 172.18.0.4:7848 to get leader for group naming_service_metadata.

2023-06-14 15:54:41,272 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2023-06-14 15:54:41,272 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2023-06-14 15:57:03,078 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2023-06-14 15:57:03,078 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2023-06-14 15:58:29,040 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2023-06-14 15:58:29,040 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2023-06-14 16:25:05,926 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 1 to 2, cost 1 ms.

2023-06-14 16:27:28,503 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 1 to 2, cost 0 ms.

2023-06-14 16:28:54,462 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 1 to 2, cost 1 ms.

2023-06-14 16:55:07,287 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 16:57:29,137 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 16:58:55,096 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 2, cost 0 ms.

2023-06-14 17:25:08,194 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 17:27:29,252 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 17:28:55,211 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 2, cost 0 ms.

2023-06-14 17:55:09,980 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 17:57:31,828 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 17:58:57,786 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 2, cost 0 ms.

2023-06-14 18:25:09,975 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 1 ms.

2023-06-14 18:27:31,823 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 18:28:56,584 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 2, cost 1 ms.

2023-06-14 18:55:11,628 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 1 ms.

2023-06-14 18:57:32,980 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 18:58:58,937 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 2, cost 0 ms.

2023-06-14 19:12:35,255 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 19:12:35,272 INFO Fail to find the next candidate.

2023-06-14 19:12:35,272 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 19:12:35,305 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=11 ms

2023-06-14 19:12:35,306 INFO Shutting down FSMCaller...

2023-06-14 19:12:35,307 INFO onShutdown.

2023-06-14 19:12:35,308 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@11ac74b5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 19:12:35,312 INFO The number of active nodes decrement to 2.

2023-06-14 19:12:35,312 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@7c0c61ff[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 19:12:35,312 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 19:12:35,313 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 19:12:35,313 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 19:12:35,313 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 19:12:35,317 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 19:12:35,322 INFO Stop the RaftGroupService successfully.

2023-06-14 19:12:35,323 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 19:12:35,325 INFO Fail to find the next candidate.

2023-06-14 19:12:35,326 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 19:12:35,329 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=2 ms

2023-06-14 19:12:35,330 INFO Shutting down FSMCaller...

2023-06-14 19:12:35,330 INFO onShutdown.

2023-06-14 19:12:35,331 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@3d62d56b[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 19:12:35,332 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4619593c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 19:12:35,332 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 19:12:35,332 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 19:12:35,332 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 19:12:35,332 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 19:12:35,333 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 19:12:35,333 INFO Stop the RaftGroupService successfully.

2023-06-14 19:12:35,333 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 19:12:35,334 INFO The number of active nodes decrement to 1.

2023-06-14 19:12:35,336 INFO Fail to find the next candidate.

2023-06-14 19:12:35,339 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 19:12:35,341 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=3 ms

2023-06-14 19:12:35,341 INFO Shutting down FSMCaller...

2023-06-14 19:12:35,341 INFO onShutdown.

2023-06-14 19:12:35,345 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@16baaeec[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 19:12:35,345 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1a66d5be[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 19:12:35,360 INFO The number of active nodes decrement to 0.

2023-06-14 19:12:35,364 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5df3bb95[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 19:12:35,365 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 19:12:35,370 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@7b85d7fa[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 19:12:35,371 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 19:12:35,371 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2eeeb998[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 15321].

2023-06-14 19:12:35,371 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 19:12:35,374 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@11ded545[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 21].

2023-06-14 19:12:35,374 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 19:12:35,378 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 19:12:35,378 INFO Stop the RaftGroupService successfully.

2023-06-14 19:12:35,401 INFO Shutdown managed channel: 172.18.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=10, target=172.18.0.4:7848}}.

2023-06-14 19:12:35,409 INFO The channel 172.18.0.4:7848 is in state: SHUTDOWN.

2023-06-14 19:12:35,410 WARN This channel 172.18.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 19:12:35,415 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 19:12:35,415 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 19:12:35,416 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 19:12:35,460 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@58fb6561[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 13690].

2023-06-14 19:58:49,790 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 19:58:49,928 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 19:58:50,140 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 19:58:50,141 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 19:58:50,142 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 19:58:50,145 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 19:58:50,150 INFO The number of active nodes increment to 1.

2023-06-14 19:58:50,484 INFO Starts FSMCaller successfully.

2023-06-14 19:58:50,506 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 19:58:50,524 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 19:58:50,528 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 19:58:50,588 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=49 ms

2023-06-14 19:58:50,589 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 19:58:50,594 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 19:58:50,600 WARN RPC server is not started in RaftGroupService.

2023-06-14 19:58:50,600 INFO Start the RaftGroupService successfully.

2023-06-14 19:58:50,621 INFO onLeaderStart: term=1.

2023-06-14 19:58:50,659 INFO The number of active nodes increment to 2.

2023-06-14 19:58:50,736 INFO Starts FSMCaller successfully.

2023-06-14 19:58:50,737 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 19:58:50,748 INFO Node <naming_instance_metadata/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 19:58:50,752 INFO Node <naming_instance_metadata/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 19:58:50,753 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=1 ms

2023-06-14 19:58:50,753 INFO Node <naming_instance_metadata/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 19:58:50,754 WARN RPC server is not started in RaftGroupService.

2023-06-14 19:58:50,754 INFO Start the RaftGroupService successfully.

2023-06-14 19:58:50,756 INFO onLeaderStart: term=1.

2023-06-14 19:58:50,766 INFO The number of active nodes increment to 3.

2023-06-14 19:58:50,832 INFO Starts FSMCaller successfully.

2023-06-14 19:58:50,833 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 19:58:50,836 INFO Node <naming_service_metadata/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 19:58:50,836 INFO Node <naming_service_metadata/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 19:58:50,838 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=1 ms

2023-06-14 19:58:50,838 INFO Node <naming_service_metadata/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 19:58:50,838 WARN RPC server is not started in RaftGroupService.

2023-06-14 19:58:50,838 INFO Start the RaftGroupService successfully.

2023-06-14 19:58:50,843 INFO onLeaderStart: term=1.

2023-06-14 19:58:51,055 INFO Creating new channel to: 172.18.0.4:7848.

2023-06-14 19:58:51,185 INFO The channel 172.18.0.4:7848 is in state: CONNECTING.

2023-06-14 19:58:51,848 INFO The channel 172.18.0.4:7848 is in state: READY.

2023-06-14 19:58:51,849 INFO The channel 172.18.0.4:7848 has successfully established.

2023-06-14 19:58:52,090 ERROR Fail to connect 172.18.0.4:7848, remoting exception: java.util.concurrent.TimeoutException.

2023-06-14 19:58:52,091 ERROR Fail to connect peer 172.18.0.4:7848 to get leader for group naming_persistent_service_v2.

2023-06-14 20:14:17,468 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2023-06-14 20:14:17,469 INFO Renaming /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_service_metadata/snapshot/snapshot_1.

2023-06-14 20:16:08,467 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2023-06-14 20:16:08,467 INFO Renaming /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/temp to /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot/snapshot_1.

2023-06-14 20:25:29,635 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2023-06-14 20:25:29,635 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2023-06-14 20:44:17,441 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 1 to 2, cost 2 ms.

2023-06-14 20:46:08,466 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 1 to 2, cost 1 ms.

2023-06-14 20:55:29,633 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 1 to 2, cost 0 ms.

2023-06-14 21:14:17,429 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 21:16:08,464 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 2, cost 0 ms.

2023-06-14 21:25:29,632 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 21:44:17,429 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_service_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 21:46:08,464 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log from log index 2 to 2, cost 1 ms.

2023-06-14 21:55:29,632 INFO Truncated prefix logs in data path: /home/nacos/data/protocol/raft/naming_instance_metadata/log from log index 2 to 2, cost 0 ms.

2023-06-14 22:01:40,486 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:01:40,495 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:01:40,496 INFO Fail to find the next candidate.

2023-06-14 22:01:40,514 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=12 ms

2023-06-14 22:01:40,515 INFO Shutting down FSMCaller...

2023-06-14 22:01:40,516 INFO onShutdown.

2023-06-14 22:01:40,517 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@3dc1ed59[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:01:40,519 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@44e84009[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:01:40,519 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 22:01:40,519 INFO The number of active nodes decrement to 2.

2023-06-14 22:01:40,519 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 22:01:40,519 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 22:01:40,519 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 22:01:40,525 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:01:40,527 INFO Stop the RaftGroupService successfully.

2023-06-14 22:01:40,527 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:01:40,534 INFO Fail to find the next candidate.

2023-06-14 22:01:40,542 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=3 ms

2023-06-14 22:01:40,542 INFO Shutting down FSMCaller...

2023-06-14 22:01:40,542 INFO onShutdown.

2023-06-14 22:01:40,545 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@71ebc94a[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:01:40,546 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@77852776[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:01:40,546 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 22:01:40,546 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 22:01:40,546 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 22:01:40,547 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 22:01:40,542 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:01:40,554 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:01:40,555 INFO Stop the RaftGroupService successfully.

2023-06-14 22:01:40,555 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:01:40,558 INFO Fail to find the next candidate.

2023-06-14 22:01:40,562 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:01:40,565 INFO The number of active nodes decrement to 1.

2023-06-14 22:01:40,578 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=10 ms

2023-06-14 22:01:40,578 INFO Shutting down FSMCaller...

2023-06-14 22:01:40,578 INFO onShutdown.

2023-06-14 22:01:40,582 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@78c16fc2[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:01:40,583 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@14137571[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:01:40,584 INFO The number of active nodes decrement to 0.

2023-06-14 22:01:40,585 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 22:01:40,587 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 22:01:40,587 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@214b52a2[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:01:40,588 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 22:01:40,590 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6696f381[Shutting down, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:01:40,591 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 22:01:40,591 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4a0cb35e[Shutting down, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 8841].

2023-06-14 22:01:40,591 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 22:01:40,593 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4b9c9288[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 12].

2023-06-14 22:01:40,593 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 22:01:40,594 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:01:40,594 INFO Stop the RaftGroupService successfully.

2023-06-14 22:01:40,596 INFO Shutdown managed channel: 172.18.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=10, target=172.18.0.4:7848}}.

2023-06-14 22:01:40,602 INFO The channel 172.18.0.4:7848 is in state: SHUTDOWN.

2023-06-14 22:01:40,603 WARN This channel 172.18.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 22:01:40,603 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 22:01:40,635 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@e28de38[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 7330].

2023-06-14 22:02:22,637 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 22:02:23,044 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 22:02:23,558 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 22:02:23,559 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 22:02:23,560 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 22:02:23,565 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 22:02:23,569 INFO The number of active nodes increment to 1.

2023-06-14 22:02:24,480 INFO Starts FSMCaller successfully.

2023-06-14 22:02:24,518 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 22:02:24,576 INFO Node <naming_persistent_service_v2/172.19.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.19.0.4:7848, oldConf=.

2023-06-14 22:02:24,582 INFO Node <naming_persistent_service_v2/172.19.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:02:24,634 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.19.0.4:7848, cost time=31 ms

2023-06-14 22:02:24,635 INFO Node <naming_persistent_service_v2/172.19.0.4:7848> become leader of group, term=1, conf=172.19.0.4:7848, oldConf=.

2023-06-14 22:02:24,640 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 22:02:24,660 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:02:24,660 INFO Start the RaftGroupService successfully.

2023-06-14 22:02:24,816 INFO onLeaderStart: term=1.

2023-06-14 22:02:24,870 INFO The number of active nodes increment to 2.

2023-06-14 22:02:25,007 INFO Starts FSMCaller successfully.

2023-06-14 22:02:25,007 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 22:02:25,024 INFO Node <naming_instance_metadata/172.19.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.19.0.4:7848, oldConf=.

2023-06-14 22:02:25,029 INFO Node <naming_instance_metadata/172.19.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:02:25,064 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.19.0.4:7848, cost time=2 ms

2023-06-14 22:02:25,064 INFO Node <naming_instance_metadata/172.19.0.4:7848> become leader of group, term=1, conf=172.19.0.4:7848, oldConf=.

2023-06-14 22:02:25,065 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:02:25,066 INFO Start the RaftGroupService successfully.

2023-06-14 22:02:25,084 INFO onLeaderStart: term=1.

2023-06-14 22:02:25,095 INFO The number of active nodes increment to 3.

2023-06-14 22:02:25,278 INFO Starts FSMCaller successfully.

2023-06-14 22:02:25,279 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 22:02:25,280 INFO Node <naming_service_metadata/172.19.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.19.0.4:7848, oldConf=.

2023-06-14 22:02:25,280 INFO Node <naming_service_metadata/172.19.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:02:25,294 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.19.0.4:7848, cost time=12 ms

2023-06-14 22:02:25,295 INFO Node <naming_service_metadata/172.19.0.4:7848> become leader of group, term=1, conf=172.19.0.4:7848, oldConf=.

2023-06-14 22:02:25,301 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:02:25,301 INFO Start the RaftGroupService successfully.

2023-06-14 22:02:25,303 INFO onLeaderStart: term=1.

2023-06-14 22:02:25,756 INFO Creating new channel to: 172.19.0.4:7848.

2023-06-14 22:02:26,577 INFO The channel 172.19.0.4:7848 is in state: CONNECTING.

2023-06-14 22:02:26,928 ERROR Fail to connect 172.19.0.4:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 0.457258837s. [closed=[], open=[[buffered_nanos=465769407, waiting_for_connection]]].

2023-06-14 22:02:26,928 ERROR Fail to connect peer 172.19.0.4:7848 to get leader for group naming_service_metadata.

2023-06-14 22:02:26,946 ERROR Fail to connect 172.19.0.4:7848, remoting exception: java.util.concurrent.TimeoutException.

2023-06-14 22:02:26,946 ERROR Fail to connect peer 172.19.0.4:7848 to get leader for group naming_instance_metadata.

2023-06-14 22:02:26,994 ERROR Fail to connect 172.19.0.4:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 0.456014839s. [closed=[], open=[[buffered_nanos=572421985, waiting_for_connection]]].

2023-06-14 22:02:26,994 ERROR Fail to connect peer 172.19.0.4:7848 to get leader for group naming_persistent_service_v2.

2023-06-14 22:02:26,999 INFO The channel 172.19.0.4:7848 is in state: READY.

2023-06-14 22:02:27,000 INFO The channel 172.19.0.4:7848 has successfully established.

2023-06-14 22:03:07,440 INFO Node <naming_service_metadata/172.19.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:03:07,447 INFO Fail to find the next candidate.

2023-06-14 22:03:07,451 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:03:07,453 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.19.0.4:7848, cost time=2 ms

2023-06-14 22:03:07,453 INFO Shutting down FSMCaller...

2023-06-14 22:03:07,454 INFO onShutdown.

2023-06-14 22:03:07,457 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@572b7bfb[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:03:07,458 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1e503ec5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:03:07,458 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.19.0.4:7848>'}.

2023-06-14 22:03:07,458 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.19.0.4:7848>'}.

2023-06-14 22:03:07,458 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.19.0.4:7848>'}.

2023-06-14 22:03:07,458 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.19.0.4:7848>'}.

2023-06-14 22:03:07,459 INFO Node <naming_service_metadata/172.19.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:03:07,460 INFO Stop the RaftGroupService successfully.

2023-06-14 22:03:07,460 INFO Node <naming_instance_metadata/172.19.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:03:07,462 INFO Fail to find the next candidate.

2023-06-14 22:03:07,465 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:03:07,465 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.19.0.4:7848, cost time=3 ms

2023-06-14 22:03:07,465 INFO The number of active nodes decrement to 2.

2023-06-14 22:03:07,466 INFO Shutting down FSMCaller...

2023-06-14 22:03:07,471 INFO onShutdown.

2023-06-14 22:03:07,477 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@5dd3d720[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:03:07,477 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@c78641f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:03:07,478 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.19.0.4:7848>'}.

2023-06-14 22:03:07,479 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.19.0.4:7848>'}.

2023-06-14 22:03:07,479 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.19.0.4:7848>'}.

2023-06-14 22:03:07,479 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.19.0.4:7848>'}.

2023-06-14 22:03:07,480 INFO The number of active nodes decrement to 1.

2023-06-14 22:03:07,480 INFO Node <naming_instance_metadata/172.19.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:03:07,481 INFO Stop the RaftGroupService successfully.

2023-06-14 22:03:07,482 INFO Node <naming_persistent_service_v2/172.19.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:03:07,482 INFO Fail to find the next candidate.

2023-06-14 22:03:07,483 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:03:07,486 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.19.0.4:7848, cost time=3 ms

2023-06-14 22:03:07,486 INFO Shutting down FSMCaller...

2023-06-14 22:03:07,486 INFO onShutdown.

2023-06-14 22:03:07,487 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@4e8967a4[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:03:07,487 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5f0fe6c4[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:03:07,489 INFO The number of active nodes decrement to 0.

2023-06-14 22:03:07,490 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@32d143e[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:03:07,490 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.19.0.4:7848>'}.

2023-06-14 22:03:07,491 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1c2650d2[Shutting down, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:03:07,491 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.19.0.4:7848>'}.

2023-06-14 22:03:07,492 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@332e74f1[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 49].

2023-06-14 22:03:07,492 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.19.0.4:7848>'}.

2023-06-14 22:03:07,508 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1fb2e500[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:03:07,508 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.19.0.4:7848>'}.

2023-06-14 22:03:07,510 INFO Node <naming_persistent_service_v2/172.19.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:03:07,511 INFO Stop the RaftGroupService successfully.

2023-06-14 22:03:07,512 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 22:03:07,514 INFO Shutdown managed channel: 172.19.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=11, target=172.19.0.4:7848}}.

2023-06-14 22:03:07,519 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 22:03:07,520 INFO The channel 172.19.0.4:7848 is in state: SHUTDOWN.

2023-06-14 22:03:07,525 WARN This channel 172.19.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 22:03:07,527 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 22:03:07,572 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@3ef20060[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 44].

2023-06-14 22:05:16,221 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 22:05:16,541 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 22:05:17,068 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 22:05:17,074 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 22:05:17,081 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 22:05:17,085 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 22:05:17,089 INFO The number of active nodes increment to 1.

2023-06-14 22:05:17,791 INFO Starts FSMCaller successfully.

2023-06-14 22:05:17,814 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 22:05:17,839 INFO Node <naming_persistent_service_v2/172.20.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.20.0.4:7848, oldConf=.

2023-06-14 22:05:17,845 INFO Node <naming_persistent_service_v2/172.20.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:05:17,993 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.20.0.4:7848, cost time=131 ms

2023-06-14 22:05:17,995 INFO Node <naming_persistent_service_v2/172.20.0.4:7848> become leader of group, term=1, conf=172.20.0.4:7848, oldConf=.

2023-06-14 22:05:18,001 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 22:05:18,008 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:05:18,008 INFO Start the RaftGroupService successfully.

2023-06-14 22:05:18,070 INFO onLeaderStart: term=1.

2023-06-14 22:05:18,174 INFO The number of active nodes increment to 2.

2023-06-14 22:05:18,359 INFO Starts FSMCaller successfully.

2023-06-14 22:05:18,365 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 22:05:18,366 INFO Node <naming_instance_metadata/172.20.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.20.0.4:7848, oldConf=.

2023-06-14 22:05:18,366 INFO Node <naming_instance_metadata/172.20.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:05:18,373 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.20.0.4:7848, cost time=6 ms

2023-06-14 22:05:18,373 INFO Node <naming_instance_metadata/172.20.0.4:7848> become leader of group, term=1, conf=172.20.0.4:7848, oldConf=.

2023-06-14 22:05:18,377 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:05:18,378 INFO Start the RaftGroupService successfully.

2023-06-14 22:05:18,438 INFO The number of active nodes increment to 3.

2023-06-14 22:05:18,452 INFO onLeaderStart: term=1.

2023-06-14 22:05:18,587 INFO Starts FSMCaller successfully.

2023-06-14 22:05:18,589 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 22:05:18,601 INFO Node <naming_service_metadata/172.20.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.20.0.4:7848, oldConf=.

2023-06-14 22:05:18,601 INFO Node <naming_service_metadata/172.20.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:05:18,610 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.20.0.4:7848, cost time=8 ms

2023-06-14 22:05:18,610 INFO Node <naming_service_metadata/172.20.0.4:7848> become leader of group, term=1, conf=172.20.0.4:7848, oldConf=.

2023-06-14 22:05:18,610 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:05:18,610 INFO Start the RaftGroupService successfully.

2023-06-14 22:05:18,629 INFO onLeaderStart: term=1.

2023-06-14 22:05:19,474 INFO Creating new channel to: 172.20.0.4:7848.

2023-06-14 22:05:19,648 INFO The channel 172.20.0.4:7848 is in state: CONNECTING.

2023-06-14 22:05:19,928 INFO The channel 172.20.0.4:7848 is in state: READY.

2023-06-14 22:05:19,928 INFO The channel 172.20.0.4:7848 has successfully established.

2023-06-14 22:06:43,004 INFO Node <naming_service_metadata/172.20.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:06:43,017 INFO Fail to find the next candidate.

2023-06-14 22:06:43,020 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:06:43,041 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.20.0.4:7848, cost time=11 ms

2023-06-14 22:06:43,041 INFO Shutting down FSMCaller...

2023-06-14 22:06:43,042 INFO onShutdown.

2023-06-14 22:06:43,043 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@33789e9c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:06:43,044 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5d8ec08c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:06:43,045 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.20.0.4:7848>'}.

2023-06-14 22:06:43,045 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.20.0.4:7848>'}.

2023-06-14 22:06:43,045 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.20.0.4:7848>'}.

2023-06-14 22:06:43,045 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.20.0.4:7848>'}.

2023-06-14 22:06:43,046 INFO Node <naming_service_metadata/172.20.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:06:43,046 INFO Stop the RaftGroupService successfully.

2023-06-14 22:06:43,046 INFO Node <naming_instance_metadata/172.20.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:06:43,072 INFO Fail to find the next candidate.

2023-06-14 22:06:43,076 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:06:43,078 INFO The number of active nodes decrement to 2.

2023-06-14 22:06:43,080 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.20.0.4:7848, cost time=3 ms

2023-06-14 22:06:43,080 INFO Shutting down FSMCaller...

2023-06-14 22:06:43,081 INFO onShutdown.

2023-06-14 22:06:43,085 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@3bbd2629[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:06:43,086 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2c358f50[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:06:43,086 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.20.0.4:7848>'}.

2023-06-14 22:06:43,086 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.20.0.4:7848>'}.

2023-06-14 22:06:43,086 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.20.0.4:7848>'}.

2023-06-14 22:06:43,086 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.20.0.4:7848>'}.

2023-06-14 22:06:43,088 INFO Node <naming_instance_metadata/172.20.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:06:43,088 INFO Stop the RaftGroupService successfully.

2023-06-14 22:06:43,088 INFO Node <naming_persistent_service_v2/172.20.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:06:43,089 INFO Fail to find the next candidate.

2023-06-14 22:06:43,093 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:06:43,095 INFO The number of active nodes decrement to 1.

2023-06-14 22:06:43,097 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.20.0.4:7848, cost time=7 ms

2023-06-14 22:06:43,097 INFO Shutting down FSMCaller...

2023-06-14 22:06:43,097 INFO onShutdown.

2023-06-14 22:06:43,098 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@311ee5da[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:06:43,098 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3151b3a6[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:06:43,102 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@78f400cb[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:06:43,103 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.20.0.4:7848>'}.

2023-06-14 22:06:43,103 INFO The number of active nodes decrement to 0.

2023-06-14 22:06:43,104 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@70f1a86d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:06:43,105 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.20.0.4:7848>'}.

2023-06-14 22:06:43,105 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@20bd7de6[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 100].

2023-06-14 22:06:43,106 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.20.0.4:7848>'}.

2023-06-14 22:06:43,109 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6718b0a8[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:06:43,110 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.20.0.4:7848>'}.

2023-06-14 22:06:43,110 INFO Node <naming_persistent_service_v2/172.20.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:06:43,110 INFO Stop the RaftGroupService successfully.

2023-06-14 22:06:43,121 INFO Shutdown managed channel: 172.20.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=12, target=172.20.0.4:7848}}.

2023-06-14 22:06:43,125 INFO The channel 172.20.0.4:7848 is in state: SHUTDOWN.

2023-06-14 22:06:43,125 WARN This channel 172.20.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 22:06:43,129 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 22:06:43,137 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 22:06:43,140 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 22:06:43,148 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@5f914ba4[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 72].

2023-06-14 22:14:02,650 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 22:14:02,902 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 22:14:03,732 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 22:14:03,733 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 22:14:03,733 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 22:14:03,747 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 22:14:03,790 INFO The number of active nodes increment to 1.

2023-06-14 22:14:04,826 INFO Starts FSMCaller successfully.

2023-06-14 22:14:04,844 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 22:14:04,960 INFO Node <naming_persistent_service_v2/172.21.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.21.0.4:7848, oldConf=.

2023-06-14 22:14:04,991 INFO Node <naming_persistent_service_v2/172.21.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:14:05,157 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.21.0.4:7848, cost time=142 ms

2023-06-14 22:14:05,158 INFO Node <naming_persistent_service_v2/172.21.0.4:7848> become leader of group, term=1, conf=172.21.0.4:7848, oldConf=.

2023-06-14 22:14:05,170 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 22:14:05,181 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:14:05,182 INFO Start the RaftGroupService successfully.

2023-06-14 22:14:05,209 INFO onLeaderStart: term=1.

2023-06-14 22:14:05,357 INFO The number of active nodes increment to 2.

2023-06-14 22:14:05,501 INFO Starts FSMCaller successfully.

2023-06-14 22:14:05,502 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 22:14:05,514 INFO Node <naming_instance_metadata/172.21.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.21.0.4:7848, oldConf=.

2023-06-14 22:14:05,525 INFO Node <naming_instance_metadata/172.21.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:14:05,533 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.21.0.4:7848, cost time=1 ms

2023-06-14 22:14:05,534 INFO Node <naming_instance_metadata/172.21.0.4:7848> become leader of group, term=1, conf=172.21.0.4:7848, oldConf=.

2023-06-14 22:14:05,540 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:14:05,540 INFO Start the RaftGroupService successfully.

2023-06-14 22:14:05,542 INFO onLeaderStart: term=1.

2023-06-14 22:14:05,601 INFO The number of active nodes increment to 3.

2023-06-14 22:14:05,739 INFO Starts FSMCaller successfully.

2023-06-14 22:14:05,740 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 22:14:05,744 INFO Node <naming_service_metadata/172.21.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.21.0.4:7848, oldConf=.

2023-06-14 22:14:05,744 INFO Node <naming_service_metadata/172.21.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:14:05,749 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.21.0.4:7848, cost time=4 ms

2023-06-14 22:14:05,749 INFO Node <naming_service_metadata/172.21.0.4:7848> become leader of group, term=1, conf=172.21.0.4:7848, oldConf=.

2023-06-14 22:14:05,752 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:14:05,752 INFO Start the RaftGroupService successfully.

2023-06-14 22:14:05,761 INFO onLeaderStart: term=1.

2023-06-14 22:14:06,515 INFO Creating new channel to: 172.21.0.4:7848.

2023-06-14 22:14:07,039 INFO The channel 172.21.0.4:7848 is in state: CONNECTING.

2023-06-14 22:14:07,599 ERROR Fail to connect 172.21.0.4:7848, remoting exception: java.util.concurrent.TimeoutException.

2023-06-14 22:14:07,600 ERROR Fail to connect peer 172.21.0.4:7848 to get leader for group naming_instance_metadata.

2023-06-14 22:14:07,610 ERROR Fail to connect 172.21.0.4:7848, remoting exception: java.util.concurrent.TimeoutException.

2023-06-14 22:14:07,610 ERROR Fail to connect peer 172.21.0.4:7848 to get leader for group naming_persistent_service_v2.

2023-06-14 22:14:07,610 ERROR Fail to connect 172.21.0.4:7848, remoting exception: java.util.concurrent.TimeoutException.

2023-06-14 22:14:07,612 ERROR Fail to connect peer 172.21.0.4:7848 to get leader for group naming_service_metadata.

2023-06-14 22:14:07,933 INFO The channel 172.21.0.4:7848 is in state: READY.

2023-06-14 22:14:07,934 INFO The channel 172.21.0.4:7848 has successfully established.

2023-06-14 22:16:15,236 INFO Node <naming_service_metadata/172.21.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:16:15,245 INFO Fail to find the next candidate.

2023-06-14 22:16:15,246 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:16:15,274 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.21.0.4:7848, cost time=18 ms

2023-06-14 22:16:15,274 INFO Shutting down FSMCaller...

2023-06-14 22:16:15,278 INFO onShutdown.

2023-06-14 22:16:15,280 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@4981ef8[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:16:15,281 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@d7b14fd[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:16:15,281 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.21.0.4:7848>'}.

2023-06-14 22:16:15,281 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.21.0.4:7848>'}.

2023-06-14 22:16:15,281 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.21.0.4:7848>'}.

2023-06-14 22:16:15,281 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.21.0.4:7848>'}.

2023-06-14 22:16:15,382 INFO The number of active nodes decrement to 2.

2023-06-14 22:16:15,382 INFO Node <naming_service_metadata/172.21.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:16:15,382 INFO Stop the RaftGroupService successfully.

2023-06-14 22:16:15,382 INFO Node <naming_instance_metadata/172.21.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:16:15,385 INFO Fail to find the next candidate.

2023-06-14 22:16:15,390 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.21.0.4:7848, cost time=3 ms

2023-06-14 22:16:15,390 INFO Shutting down FSMCaller...

2023-06-14 22:16:15,390 INFO onShutdown.

2023-06-14 22:16:15,407 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:16:15,411 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@304bf5f5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:16:15,413 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@326367d0[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:16:15,416 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.21.0.4:7848>'}.

2023-06-14 22:16:15,416 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.21.0.4:7848>'}.

2023-06-14 22:16:15,416 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.21.0.4:7848>'}.

2023-06-14 22:16:15,416 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.21.0.4:7848>'}.

2023-06-14 22:16:15,420 INFO The number of active nodes decrement to 1.

2023-06-14 22:16:15,425 INFO Node <naming_instance_metadata/172.21.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:16:15,425 INFO Stop the RaftGroupService successfully.

2023-06-14 22:16:15,425 INFO Node <naming_persistent_service_v2/172.21.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:16:15,483 INFO Fail to find the next candidate.

2023-06-14 22:16:15,486 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:16:15,494 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.21.0.4:7848, cost time=8 ms

2023-06-14 22:16:15,494 INFO Shutting down FSMCaller...

2023-06-14 22:16:15,494 INFO onShutdown.

2023-06-14 22:16:15,495 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@1c835d91[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:16:15,496 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@eaf471c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:16:15,497 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1d1206ef[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:16:15,497 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.21.0.4:7848>'}.

2023-06-14 22:16:15,499 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5039a37d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:16:15,499 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.21.0.4:7848>'}.

2023-06-14 22:16:15,500 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5f416a38[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 154].

2023-06-14 22:16:15,500 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.21.0.4:7848>'}.

2023-06-14 22:16:15,501 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@59b5feaa[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:16:15,502 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.21.0.4:7848>'}.

2023-06-14 22:16:15,503 INFO The number of active nodes decrement to 0.

2023-06-14 22:16:15,505 INFO Node <naming_persistent_service_v2/172.21.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:16:15,505 INFO Stop the RaftGroupService successfully.

2023-06-14 22:16:15,514 INFO Shutdown managed channel: 172.21.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=11, target=172.21.0.4:7848}}.

2023-06-14 22:16:15,518 INFO The channel 172.21.0.4:7848 is in state: SHUTDOWN.

2023-06-14 22:16:15,518 WARN This channel 172.21.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 22:16:15,526 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 22:16:15,526 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 22:16:15,531 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 22:16:15,538 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@d5bdcfb[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 112].

2023-06-14 22:23:55,171 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 22:23:55,313 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 22:23:55,604 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 22:23:55,605 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 22:23:55,606 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 22:23:55,610 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 22:23:55,614 INFO The number of active nodes increment to 1.

2023-06-14 22:23:56,560 INFO Starts FSMCaller successfully.

2023-06-14 22:23:56,604 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 22:23:56,682 INFO Node <naming_persistent_service_v2/172.22.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.22.0.4:7848, oldConf=.

2023-06-14 22:23:56,689 INFO Node <naming_persistent_service_v2/172.22.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:23:56,826 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.22.0.4:7848, cost time=104 ms

2023-06-14 22:23:56,826 INFO Node <naming_persistent_service_v2/172.22.0.4:7848> become leader of group, term=1, conf=172.22.0.4:7848, oldConf=.

2023-06-14 22:23:56,841 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 22:23:56,875 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:23:56,875 INFO Start the RaftGroupService successfully.

2023-06-14 22:23:56,905 INFO onLeaderStart: term=1.

2023-06-14 22:23:56,991 INFO The number of active nodes increment to 2.

2023-06-14 22:23:57,301 INFO Starts FSMCaller successfully.

2023-06-14 22:23:57,301 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 22:23:57,308 INFO Node <naming_instance_metadata/172.22.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.22.0.4:7848, oldConf=.

2023-06-14 22:23:57,313 INFO Node <naming_instance_metadata/172.22.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:23:57,325 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.22.0.4:7848, cost time=7 ms

2023-06-14 22:23:57,325 INFO Node <naming_instance_metadata/172.22.0.4:7848> become leader of group, term=1, conf=172.22.0.4:7848, oldConf=.

2023-06-14 22:23:57,330 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:23:57,330 INFO Start the RaftGroupService successfully.

2023-06-14 22:23:57,382 INFO onLeaderStart: term=1.

2023-06-14 22:23:57,472 INFO The number of active nodes increment to 3.

2023-06-14 22:23:57,873 INFO Starts FSMCaller successfully.

2023-06-14 22:23:57,875 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 22:23:57,879 INFO Node <naming_service_metadata/172.22.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.22.0.4:7848, oldConf=.

2023-06-14 22:23:57,879 INFO Node <naming_service_metadata/172.22.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:23:57,882 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.22.0.4:7848, cost time=3 ms

2023-06-14 22:23:57,884 INFO Node <naming_service_metadata/172.22.0.4:7848> become leader of group, term=1, conf=172.22.0.4:7848, oldConf=.

2023-06-14 22:23:57,885 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:23:57,885 INFO Start the RaftGroupService successfully.

2023-06-14 22:23:57,892 INFO onLeaderStart: term=1.

2023-06-14 22:23:58,048 INFO Creating new channel to: 172.22.0.4:7848.

2023-06-14 22:23:58,691 INFO The channel 172.22.0.4:7848 is in state: CONNECTING.

2023-06-14 22:23:58,913 INFO The channel 172.22.0.4:7848 is in state: READY.

2023-06-14 22:23:58,913 INFO The channel 172.22.0.4:7848 has successfully established.

2023-06-14 22:26:09,659 INFO Node <naming_service_metadata/172.22.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:26:09,674 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:26:09,675 INFO Fail to find the next candidate.

2023-06-14 22:26:09,693 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.22.0.4:7848, cost time=11 ms

2023-06-14 22:26:09,694 INFO Shutting down FSMCaller...

2023-06-14 22:26:09,695 INFO onShutdown.

2023-06-14 22:26:09,696 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@38e6420f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:26:09,697 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1e0ddccf[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:26:09,698 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.22.0.4:7848>'}.

2023-06-14 22:26:09,698 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.22.0.4:7848>'}.

2023-06-14 22:26:09,698 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.22.0.4:7848>'}.

2023-06-14 22:26:09,698 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.22.0.4:7848>'}.

2023-06-14 22:26:09,698 INFO The number of active nodes decrement to 2.

2023-06-14 22:26:09,733 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 22:26:09,733 INFO Node <naming_service_metadata/172.22.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTDOWN.

2023-06-14 22:26:09,734 INFO Stop the RaftGroupService successfully.

2023-06-14 22:26:09,734 INFO Node <naming_instance_metadata/172.22.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:26:09,770 INFO Fail to find the next candidate.

2023-06-14 22:26:09,776 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.22.0.4:7848, cost time=2 ms

2023-06-14 22:26:09,776 INFO Shutting down FSMCaller...

2023-06-14 22:26:09,776 INFO onShutdown.

2023-06-14 22:26:09,841 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@2e3f1ce2[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:26:09,841 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5c43035d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:26:09,842 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.22.0.4:7848>'}.

2023-06-14 22:26:09,842 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.22.0.4:7848>'}.

2023-06-14 22:26:09,842 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.22.0.4:7848>'}.

2023-06-14 22:26:09,842 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.22.0.4:7848>'}.

2023-06-14 22:26:09,856 INFO Node <naming_instance_metadata/172.22.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:26:09,856 INFO Stop the RaftGroupService successfully.

2023-06-14 22:26:09,856 INFO Node <naming_persistent_service_v2/172.22.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:26:09,869 INFO Fail to find the next candidate.

2023-06-14 22:26:09,871 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:26:09,892 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:26:09,907 INFO The number of active nodes decrement to 1.

2023-06-14 22:26:09,908 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.22.0.4:7848, cost time=34 ms

2023-06-14 22:26:09,908 INFO Shutting down FSMCaller...

2023-06-14 22:26:09,908 INFO onShutdown.

2023-06-14 22:26:09,915 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@64daeae5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:26:09,915 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@385b9aa6[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:26:09,918 INFO The number of active nodes decrement to 0.

2023-06-14 22:26:09,922 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@490f09ec[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:26:09,922 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.22.0.4:7848>'}.

2023-06-14 22:26:09,937 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@66082175[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:26:09,941 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.22.0.4:7848>'}.

2023-06-14 22:26:09,941 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@773fa62d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 157].

2023-06-14 22:26:09,942 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.22.0.4:7848>'}.

2023-06-14 22:26:09,947 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@75e08f46[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:26:09,947 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.22.0.4:7848>'}.

2023-06-14 22:26:09,949 INFO Node <naming_persistent_service_v2/172.22.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:26:09,949 INFO Stop the RaftGroupService successfully.

2023-06-14 22:26:09,960 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 22:26:09,970 INFO Shutdown managed channel: 172.22.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=11, target=172.22.0.4:7848}}.

2023-06-14 22:26:09,987 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 22:26:09,996 INFO The channel 172.22.0.4:7848 is in state: SHUTDOWN.

2023-06-14 22:26:09,996 WARN This channel 172.22.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 22:26:10,026 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@72889d4[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 104].

2023-06-14 22:27:13,406 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 22:27:13,516 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 22:27:13,714 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 22:27:13,715 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 22:27:13,716 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 22:27:13,734 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 22:27:13,740 INFO The number of active nodes increment to 1.

2023-06-14 22:27:14,008 INFO Starts FSMCaller successfully.

2023-06-14 22:27:14,022 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 22:27:14,037 INFO Node <naming_persistent_service_v2/172.23.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.23.0.4:7848, oldConf=.

2023-06-14 22:27:14,040 INFO Node <naming_persistent_service_v2/172.23.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:27:14,073 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.23.0.4:7848, cost time=24 ms

2023-06-14 22:27:14,074 INFO Node <naming_persistent_service_v2/172.23.0.4:7848> become leader of group, term=1, conf=172.23.0.4:7848, oldConf=.

2023-06-14 22:27:14,077 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 22:27:14,082 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:27:14,082 INFO Start the RaftGroupService successfully.

2023-06-14 22:27:14,104 INFO onLeaderStart: term=1.

2023-06-14 22:27:14,109 INFO The number of active nodes increment to 2.

2023-06-14 22:27:14,163 INFO Starts FSMCaller successfully.

2023-06-14 22:27:14,163 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 22:27:14,172 INFO Node <naming_instance_metadata/172.23.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.23.0.4:7848, oldConf=.

2023-06-14 22:27:14,176 INFO Node <naming_instance_metadata/172.23.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:27:14,180 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.23.0.4:7848, cost time=2 ms

2023-06-14 22:27:14,180 INFO Node <naming_instance_metadata/172.23.0.4:7848> become leader of group, term=1, conf=172.23.0.4:7848, oldConf=.

2023-06-14 22:27:14,182 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:27:14,182 INFO Start the RaftGroupService successfully.

2023-06-14 22:27:14,198 INFO The number of active nodes increment to 3.

2023-06-14 22:27:14,203 INFO onLeaderStart: term=1.

2023-06-14 22:27:14,285 INFO Starts FSMCaller successfully.

2023-06-14 22:27:14,285 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 22:27:14,347 INFO Node <naming_service_metadata/172.23.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.23.0.4:7848, oldConf=.

2023-06-14 22:27:14,347 INFO Node <naming_service_metadata/172.23.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:27:14,350 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.23.0.4:7848, cost time=2 ms

2023-06-14 22:27:14,351 INFO Node <naming_service_metadata/172.23.0.4:7848> become leader of group, term=1, conf=172.23.0.4:7848, oldConf=.

2023-06-14 22:27:14,351 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:27:14,351 INFO Start the RaftGroupService successfully.

2023-06-14 22:27:14,355 INFO onLeaderStart: term=1.

2023-06-14 22:27:14,511 INFO Creating new channel to: 172.23.0.4:7848.

2023-06-14 22:27:14,711 INFO The channel 172.23.0.4:7848 is in state: CONNECTING.

2023-06-14 22:27:15,254 INFO The channel 172.23.0.4:7848 is in state: READY.

2023-06-14 22:27:15,254 INFO The channel 172.23.0.4:7848 has successfully established.

2023-06-14 22:27:42,826 INFO Node <naming_service_metadata/172.23.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:27:42,832 INFO Fail to find the next candidate.

2023-06-14 22:27:42,832 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:27:42,842 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.23.0.4:7848, cost time=8 ms

2023-06-14 22:27:42,842 INFO Shutting down FSMCaller...

2023-06-14 22:27:42,843 INFO onShutdown.

2023-06-14 22:27:42,844 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@21b0f3a5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:27:42,847 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@25d54c0[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:27:42,849 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.23.0.4:7848>'}.

2023-06-14 22:27:42,850 INFO The number of active nodes decrement to 2.

2023-06-14 22:27:42,854 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.23.0.4:7848>'}.

2023-06-14 22:27:42,855 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.23.0.4:7848>'}.

2023-06-14 22:27:42,869 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.23.0.4:7848>'}.

2023-06-14 22:27:42,871 INFO Node <naming_service_metadata/172.23.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:27:42,879 INFO Stop the RaftGroupService successfully.

2023-06-14 22:27:42,879 INFO Node <naming_instance_metadata/172.23.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:27:42,880 INFO Fail to find the next candidate.

2023-06-14 22:27:42,880 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:27:43,040 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.23.0.4:7848, cost time=156 ms

2023-06-14 22:27:43,041 INFO Shutting down FSMCaller...

2023-06-14 22:27:43,070 INFO onShutdown.

2023-06-14 22:27:43,126 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@33d5ebdb[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:27:43,127 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@32e60b83[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:27:43,134 INFO The number of active nodes decrement to 1.

2023-06-14 22:27:43,130 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.23.0.4:7848>'}.

2023-06-14 22:27:43,140 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.23.0.4:7848>'}.

2023-06-14 22:27:43,141 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.23.0.4:7848>'}.

2023-06-14 22:27:43,148 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.23.0.4:7848>'}.

2023-06-14 22:27:43,149 INFO Node <naming_instance_metadata/172.23.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:27:43,153 INFO Stop the RaftGroupService successfully.

2023-06-14 22:27:43,153 INFO Node <naming_persistent_service_v2/172.23.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:27:43,154 INFO Fail to find the next candidate.

2023-06-14 22:27:43,186 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:27:43,199 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.23.0.4:7848, cost time=27 ms

2023-06-14 22:27:43,199 INFO Shutting down FSMCaller...

2023-06-14 22:27:43,199 INFO onShutdown.

2023-06-14 22:27:43,199 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@475f683c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:27:43,199 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5b48d83f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:27:43,210 INFO The number of active nodes decrement to 0.

2023-06-14 22:27:43,211 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 22:27:43,211 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 22:27:43,211 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2a22cbb[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:27:43,212 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.23.0.4:7848>'}.

2023-06-14 22:27:43,212 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1f3943de[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:27:43,213 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.23.0.4:7848>'}.

2023-06-14 22:27:43,213 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@cefe9fb[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 33].

2023-06-14 22:27:43,213 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.23.0.4:7848>'}.

2023-06-14 22:27:43,215 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@610f93e7[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:27:43,215 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.23.0.4:7848>'}.

2023-06-14 22:27:43,219 INFO Node <naming_persistent_service_v2/172.23.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:27:43,221 INFO Stop the RaftGroupService successfully.

2023-06-14 22:27:43,221 INFO Shutdown managed channel: 172.23.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=10, target=172.23.0.4:7848}}.

2023-06-14 22:27:43,230 INFO The channel 172.23.0.4:7848 is in state: SHUTDOWN.

2023-06-14 22:27:43,230 WARN This channel 172.23.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 22:27:43,239 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 22:27:43,279 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@5126978[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 26].

2023-06-14 22:31:35,409 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 22:31:35,827 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 22:31:36,314 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 22:31:36,315 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 22:31:36,316 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 22:31:36,333 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 22:31:36,339 INFO The number of active nodes increment to 1.

2023-06-14 22:31:37,214 INFO Starts FSMCaller successfully.

2023-06-14 22:31:37,268 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 22:31:37,433 INFO Node <naming_persistent_service_v2/172.24.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.24.0.4:7848, oldConf=.

2023-06-14 22:31:37,473 INFO Node <naming_persistent_service_v2/172.24.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:31:37,659 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.24.0.4:7848, cost time=144 ms

2023-06-14 22:31:37,660 INFO Node <naming_persistent_service_v2/172.24.0.4:7848> become leader of group, term=1, conf=172.24.0.4:7848, oldConf=.

2023-06-14 22:31:37,678 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 22:31:37,697 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:31:37,697 INFO Start the RaftGroupService successfully.

2023-06-14 22:31:37,800 INFO onLeaderStart: term=1.

2023-06-14 22:31:37,884 INFO The number of active nodes increment to 2.

2023-06-14 22:31:38,068 INFO Starts FSMCaller successfully.

2023-06-14 22:31:38,075 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 22:31:38,088 INFO Node <naming_instance_metadata/172.24.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.24.0.4:7848, oldConf=.

2023-06-14 22:31:38,095 INFO Node <naming_instance_metadata/172.24.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:31:38,102 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.24.0.4:7848, cost time=6 ms

2023-06-14 22:31:38,102 INFO Node <naming_instance_metadata/172.24.0.4:7848> become leader of group, term=1, conf=172.24.0.4:7848, oldConf=.

2023-06-14 22:31:38,109 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:31:38,110 INFO Start the RaftGroupService successfully.

2023-06-14 22:31:38,169 INFO onLeaderStart: term=1.

2023-06-14 22:31:38,189 INFO The number of active nodes increment to 3.

2023-06-14 22:31:38,355 INFO Starts FSMCaller successfully.

2023-06-14 22:31:38,355 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 22:31:38,371 INFO Node <naming_service_metadata/172.24.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.24.0.4:7848, oldConf=.

2023-06-14 22:31:38,371 INFO Node <naming_service_metadata/172.24.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:31:38,376 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.24.0.4:7848, cost time=2 ms

2023-06-14 22:31:38,376 INFO Node <naming_service_metadata/172.24.0.4:7848> become leader of group, term=1, conf=172.24.0.4:7848, oldConf=.

2023-06-14 22:31:38,378 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:31:38,379 INFO Start the RaftGroupService successfully.

2023-06-14 22:31:38,382 INFO onLeaderStart: term=1.

2023-06-14 22:31:38,571 INFO Creating new channel to: 172.24.0.4:7848.

2023-06-14 22:31:39,184 INFO The channel 172.24.0.4:7848 is in state: CONNECTING.

2023-06-14 22:31:39,518 INFO The channel 172.24.0.4:7848 is in state: READY.

2023-06-14 22:31:39,518 INFO The channel 172.24.0.4:7848 has successfully established.

2023-06-14 22:31:39,664 ERROR Fail to connect 172.24.0.4:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 0.486932324s. [closed=[], open=[[buffered_nanos=418077242, remote_addr=172.24.0.4/172.24.0.4:7848]]].

2023-06-14 22:31:39,664 ERROR Fail to connect 172.24.0.4:7848, remoting exception: java.util.concurrent.TimeoutException.

2023-06-14 22:31:39,665 ERROR Fail to connect peer 172.24.0.4:7848 to get leader for group naming_instance_metadata.

2023-06-14 22:31:39,665 ERROR Fail to connect peer 172.24.0.4:7848 to get leader for group naming_persistent_service_v2.

2023-06-14 22:31:39,668 ERROR Fail to connect 172.24.0.4:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 0.490932540s. [closed=[], open=[[buffered_nanos=414696988, remote_addr=172.24.0.4/172.24.0.4:7848]]].

2023-06-14 22:31:39,669 ERROR Fail to connect peer 172.24.0.4:7848 to get leader for group naming_service_metadata.

2023-06-14 22:38:48,714 INFO Node <naming_service_metadata/172.24.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:38:48,732 INFO Fail to find the next candidate.

2023-06-14 22:38:48,735 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:38:48,752 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.24.0.4:7848, cost time=7 ms

2023-06-14 22:38:48,752 INFO Shutting down FSMCaller...

2023-06-14 22:38:48,761 INFO onShutdown.

2023-06-14 22:38:48,763 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@4f8e66b0[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:38:48,769 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@508f2065[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:38:48,769 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.24.0.4:7848>'}.

2023-06-14 22:38:48,770 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.24.0.4:7848>'}.

2023-06-14 22:38:48,770 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.24.0.4:7848>'}.

2023-06-14 22:38:48,770 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.24.0.4:7848>'}.

2023-06-14 22:38:48,772 INFO Node <naming_service_metadata/172.24.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:38:48,772 INFO Stop the RaftGroupService successfully.

2023-06-14 22:38:48,772 INFO Node <naming_instance_metadata/172.24.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:38:48,775 INFO Fail to find the next candidate.

2023-06-14 22:38:48,780 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.24.0.4:7848, cost time=4 ms

2023-06-14 22:38:48,780 INFO Shutting down FSMCaller...

2023-06-14 22:38:48,780 INFO onShutdown.

2023-06-14 22:38:48,780 INFO The number of active nodes decrement to 2.

2023-06-14 22:38:48,784 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:38:48,790 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@2deb6074[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:38:48,794 INFO The number of active nodes decrement to 1.

2023-06-14 22:38:48,796 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6ca4defd[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:38:48,798 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.24.0.4:7848>'}.

2023-06-14 22:38:48,800 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.24.0.4:7848>'}.

2023-06-14 22:38:48,801 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.24.0.4:7848>'}.

2023-06-14 22:38:48,801 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.24.0.4:7848>'}.

2023-06-14 22:38:48,804 INFO Node <naming_instance_metadata/172.24.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:38:48,808 INFO Stop the RaftGroupService successfully.

2023-06-14 22:38:48,808 INFO Node <naming_persistent_service_v2/172.24.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:38:48,809 INFO Fail to find the next candidate.

2023-06-14 22:38:48,813 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:38:48,826 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.24.0.4:7848, cost time=2 ms

2023-06-14 22:38:48,826 INFO Shutting down FSMCaller...

2023-06-14 22:38:48,826 INFO onShutdown.

2023-06-14 22:38:48,833 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@56984a4d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:38:48,834 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@196e0eed[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:38:48,837 INFO The number of active nodes decrement to 0.

2023-06-14 22:38:48,844 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@59f13d87[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:38:48,844 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.24.0.4:7848>'}.

2023-06-14 22:38:48,847 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@c8b5268[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:38:48,847 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.24.0.4:7848>'}.

2023-06-14 22:38:48,848 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1d2aca0b[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 516].

2023-06-14 22:38:48,848 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.24.0.4:7848>'}.

2023-06-14 22:38:48,850 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 22:38:48,850 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2e24df5c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:38:48,852 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.24.0.4:7848>'}.

2023-06-14 22:38:48,853 INFO Node <naming_persistent_service_v2/172.24.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:38:48,854 INFO Stop the RaftGroupService successfully.

2023-06-14 22:38:48,856 INFO Shutdown managed channel: 172.24.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=11, target=172.24.0.4:7848}}.

2023-06-14 22:38:48,868 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 22:38:48,870 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 22:38:48,872 INFO The channel 172.24.0.4:7848 is in state: SHUTDOWN.

2023-06-14 22:38:48,873 WARN This channel 172.24.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 22:38:48,898 INFO Connection disconnected: /172.24.0.4:32980

2023-06-14 22:38:48,917 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@591a15de[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 414].

2023-06-14 22:42:39,524 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 22:42:39,842 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 22:42:40,255 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 22:42:40,256 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 22:42:40,257 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 22:42:40,268 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 22:42:40,279 INFO The number of active nodes increment to 1.

2023-06-14 22:42:41,184 INFO Starts FSMCaller successfully.

2023-06-14 22:42:41,221 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 22:42:41,245 INFO Node <naming_persistent_service_v2/172.25.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.25.0.4:7848, oldConf=.

2023-06-14 22:42:41,250 INFO Node <naming_persistent_service_v2/172.25.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:42:41,411 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.25.0.4:7848, cost time=131 ms

2023-06-14 22:42:41,417 INFO Node <naming_persistent_service_v2/172.25.0.4:7848> become leader of group, term=1, conf=172.25.0.4:7848, oldConf=.

2023-06-14 22:42:41,431 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 22:42:41,458 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:42:41,459 INFO onLeaderStart: term=1.

2023-06-14 22:42:41,468 INFO Start the RaftGroupService successfully.

2023-06-14 22:42:41,480 ERROR Handle FSMCallerImpl disruptor event error, event is com.alipay.sofa.jraft.core.FSMCallerImpl$ApplyTask@6cf7188f

java.lang.NullPointerException: null
	at com.alibaba.nacos.core.distributed.raft.NacosStateMachine.onLeaderStart(NacosStateMachine.java:189)
	at com.alipay.sofa.jraft.core.NodeImpl$ConfigurationChangeDone.run(NodeImpl.java:2341)
	at com.alipay.sofa.jraft.core.FSMCallerImpl.doCommitted(FSMCallerImpl.java:546)
	at com.alipay.sofa.jraft.core.FSMCallerImpl.runApplyTask(FSMCallerImpl.java:459)
	at com.alipay.sofa.jraft.core.FSMCallerImpl.access$100(FSMCallerImpl.java:73)
	at com.alipay.sofa.jraft.core.FSMCallerImpl$ApplyTaskHandler.onEvent(FSMCallerImpl.java:150)
	at com.alipay.sofa.jraft.core.FSMCallerImpl$ApplyTaskHandler.onEvent(FSMCallerImpl.java:142)
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:137)
	at java.lang.Thread.run(Thread.java:750)
2023-06-14 22:42:41,569 INFO The number of active nodes increment to 2.

2023-06-14 22:42:41,735 INFO Starts FSMCaller successfully.

2023-06-14 22:42:41,735 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 22:42:41,757 INFO Node <naming_instance_metadata/172.25.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.25.0.4:7848, oldConf=.

2023-06-14 22:42:41,758 INFO Node <naming_instance_metadata/172.25.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:42:41,766 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.25.0.4:7848, cost time=5 ms

2023-06-14 22:42:41,766 INFO Node <naming_instance_metadata/172.25.0.4:7848> become leader of group, term=1, conf=172.25.0.4:7848, oldConf=.

2023-06-14 22:42:41,768 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:42:41,768 INFO Start the RaftGroupService successfully.

2023-06-14 22:42:41,768 INFO onLeaderStart: term=1.

2023-06-14 22:42:41,818 INFO The number of active nodes increment to 3.

2023-06-14 22:42:42,007 INFO Starts FSMCaller successfully.

2023-06-14 22:42:42,009 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 22:42:42,039 INFO Node <naming_service_metadata/172.25.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.25.0.4:7848, oldConf=.

2023-06-14 22:42:42,040 INFO Node <naming_service_metadata/172.25.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:42:42,043 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.25.0.4:7848, cost time=3 ms

2023-06-14 22:42:42,048 INFO Node <naming_service_metadata/172.25.0.4:7848> become leader of group, term=1, conf=172.25.0.4:7848, oldConf=.

2023-06-14 22:42:42,049 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:42:42,077 INFO Start the RaftGroupService successfully.

2023-06-14 22:42:42,086 INFO onLeaderStart: term=1.

2023-06-14 22:42:42,769 INFO Creating new channel to: 172.25.0.4:7848.

2023-06-14 22:42:43,496 INFO The channel 172.25.0.4:7848 is in state: CONNECTING.

2023-06-14 22:42:43,943 INFO The channel 172.25.0.4:7848 is in state: READY.

2023-06-14 22:42:43,944 INFO The channel 172.25.0.4:7848 has successfully established.

2023-06-14 22:42:44,066 ERROR Fail to connect 172.25.0.4:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 0.529677569s. [closed=[], open=[[buffered_nanos=508398936, remote_addr=172.25.0.4/172.25.0.4:7848]]].

2023-06-14 22:42:44,067 ERROR Fail to connect peer 172.25.0.4:7848 to get leader for group naming_service_metadata.

2023-06-14 22:42:44,104 ERROR Fail to connect 172.25.0.4:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 0.557572587s. [closed=[], open=[[buffered_nanos=516776859, remote_addr=172.25.0.4/172.25.0.4:7848]]].

2023-06-14 22:42:44,104 ERROR Fail to connect peer 172.25.0.4:7848 to get leader for group naming_instance_metadata.

2023-06-14 22:42:44,141 ERROR Fail to connect 172.25.0.4:7848, remoting exception: java.util.concurrent.TimeoutException.

2023-06-14 22:42:44,141 ERROR Fail to connect peer 172.25.0.4:7848 to get leader for group naming_persistent_service_v2.

2023-06-14 22:45:39,676 INFO Node <naming_service_metadata/172.25.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:45:39,694 INFO Fail to find the next candidate.

2023-06-14 22:45:39,699 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:45:39,705 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.25.0.4:7848, cost time=6 ms

2023-06-14 22:45:39,706 INFO Shutting down FSMCaller...

2023-06-14 22:45:39,707 INFO onShutdown.

2023-06-14 22:45:39,710 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@72e55ea5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:45:39,711 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1cf37760[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:45:39,713 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.25.0.4:7848>'}.

2023-06-14 22:45:39,713 INFO The number of active nodes decrement to 2.

2023-06-14 22:45:39,714 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.25.0.4:7848>'}.

2023-06-14 22:45:39,714 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.25.0.4:7848>'}.

2023-06-14 22:45:39,714 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.25.0.4:7848>'}.

2023-06-14 22:45:39,721 INFO Node <naming_service_metadata/172.25.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:45:39,722 INFO Stop the RaftGroupService successfully.

2023-06-14 22:45:39,722 INFO Node <naming_instance_metadata/172.25.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:45:39,723 INFO Fail to find the next candidate.

2023-06-14 22:45:39,724 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:45:39,732 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.25.0.4:7848, cost time=2 ms

2023-06-14 22:45:39,732 INFO Shutting down FSMCaller...

2023-06-14 22:45:39,732 INFO onShutdown.

2023-06-14 22:45:39,733 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@1904de6f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:45:39,734 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@29e2154[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:45:39,734 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.25.0.4:7848>'}.

2023-06-14 22:45:39,734 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.25.0.4:7848>'}.

2023-06-14 22:45:39,734 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.25.0.4:7848>'}.

2023-06-14 22:45:39,734 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.25.0.4:7848>'}.

2023-06-14 22:45:39,734 INFO Node <naming_instance_metadata/172.25.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:45:39,735 INFO Stop the RaftGroupService successfully.

2023-06-14 22:45:39,735 INFO Node <naming_persistent_service_v2/172.25.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:45:39,735 INFO Fail to find the next candidate.

2023-06-14 22:45:39,738 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.25.0.4:7848, cost time=2 ms

2023-06-14 22:45:39,738 INFO Shutting down FSMCaller...

2023-06-14 22:45:39,738 INFO onShutdown.

2023-06-14 22:45:39,744 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:45:39,745 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@6a09ef88[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:45:39,746 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@196ee71c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:45:39,748 INFO The number of active nodes decrement to 1.

2023-06-14 22:45:39,748 INFO The number of active nodes decrement to 0.

2023-06-14 22:45:39,752 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@7ec2a9e2[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:45:39,753 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.25.0.4:7848>'}.

2023-06-14 22:45:39,753 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@520a3e18[Shutting down, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:45:39,753 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.25.0.4:7848>'}.

2023-06-14 22:45:39,754 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@701ce765[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 213].

2023-06-14 22:45:39,754 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.25.0.4:7848>'}.

2023-06-14 22:45:39,757 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@11713e74[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:45:39,757 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.25.0.4:7848>'}.

2023-06-14 22:45:39,762 INFO Node <naming_persistent_service_v2/172.25.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:45:39,762 INFO Stop the RaftGroupService successfully.

2023-06-14 22:45:39,773 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 22:45:39,775 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 22:45:39,781 INFO Shutdown managed channel: 172.25.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=11, target=172.25.0.4:7848}}.

2023-06-14 22:45:39,784 INFO The channel 172.25.0.4:7848 is in state: SHUTDOWN.

2023-06-14 22:45:39,784 WARN This channel 172.25.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 22:45:39,798 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 22:45:39,828 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@6b8f85d2[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 176].

2023-06-14 22:48:21,751 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 22:48:21,839 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 22:48:22,001 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 22:48:22,002 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 22:48:22,003 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 22:48:22,006 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 22:48:22,010 INFO The number of active nodes increment to 1.

2023-06-14 22:48:22,263 INFO Starts FSMCaller successfully.

2023-06-14 22:48:22,275 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 22:48:22,300 INFO Node <naming_persistent_service_v2/172.26.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.26.0.4:7848, oldConf=.

2023-06-14 22:48:22,302 INFO Node <naming_persistent_service_v2/172.26.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:48:22,359 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.26.0.4:7848, cost time=46 ms

2023-06-14 22:48:22,359 INFO Node <naming_persistent_service_v2/172.26.0.4:7848> become leader of group, term=1, conf=172.26.0.4:7848, oldConf=.

2023-06-14 22:48:22,364 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 22:48:22,372 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:48:22,372 INFO Start the RaftGroupService successfully.

2023-06-14 22:48:22,387 INFO onLeaderStart: term=1.

2023-06-14 22:48:22,411 INFO The number of active nodes increment to 2.

2023-06-14 22:48:22,492 INFO Starts FSMCaller successfully.

2023-06-14 22:48:22,492 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 22:48:22,531 INFO Node <naming_instance_metadata/172.26.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.26.0.4:7848, oldConf=.

2023-06-14 22:48:22,534 INFO Node <naming_instance_metadata/172.26.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:48:22,539 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.26.0.4:7848, cost time=1 ms

2023-06-14 22:48:22,539 INFO Node <naming_instance_metadata/172.26.0.4:7848> become leader of group, term=1, conf=172.26.0.4:7848, oldConf=.

2023-06-14 22:48:22,540 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:48:22,540 INFO Start the RaftGroupService successfully.

2023-06-14 22:48:22,544 INFO onLeaderStart: term=1.

2023-06-14 22:48:22,547 INFO The number of active nodes increment to 3.

2023-06-14 22:48:22,613 INFO Starts FSMCaller successfully.

2023-06-14 22:48:22,613 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 22:48:22,620 INFO Node <naming_service_metadata/172.26.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.26.0.4:7848, oldConf=.

2023-06-14 22:48:22,621 INFO Node <naming_service_metadata/172.26.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 22:48:22,622 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.26.0.4:7848, cost time=1 ms

2023-06-14 22:48:22,623 INFO Node <naming_service_metadata/172.26.0.4:7848> become leader of group, term=1, conf=172.26.0.4:7848, oldConf=.

2023-06-14 22:48:22,623 WARN RPC server is not started in RaftGroupService.

2023-06-14 22:48:22,623 INFO Start the RaftGroupService successfully.

2023-06-14 22:48:22,636 INFO onLeaderStart: term=1.

2023-06-14 22:48:22,765 INFO Creating new channel to: 172.26.0.4:7848.

2023-06-14 22:48:22,861 INFO The channel 172.26.0.4:7848 is in state: CONNECTING.

2023-06-14 22:48:23,471 INFO The channel 172.26.0.4:7848 is in state: READY.

2023-06-14 22:48:23,472 INFO The channel 172.26.0.4:7848 has successfully established.

2023-06-14 22:54:58,976 INFO Node <naming_service_metadata/172.26.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:54:58,985 INFO Fail to find the next candidate.

2023-06-14 22:54:58,993 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:54:59,032 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.26.0.4:7848, cost time=28 ms

2023-06-14 22:54:59,032 INFO Shutting down FSMCaller...

2023-06-14 22:54:59,033 INFO onShutdown.

2023-06-14 22:54:59,034 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@411f2c2d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:54:59,041 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@35a105a[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:54:59,041 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.26.0.4:7848>'}.

2023-06-14 22:54:59,041 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.26.0.4:7848>'}.

2023-06-14 22:54:59,041 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.26.0.4:7848>'}.

2023-06-14 22:54:59,042 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.26.0.4:7848>'}.

2023-06-14 22:54:59,042 INFO The number of active nodes decrement to 2.

2023-06-14 22:54:59,043 INFO Node <naming_service_metadata/172.26.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:54:59,046 INFO Stop the RaftGroupService successfully.

2023-06-14 22:54:59,046 INFO Node <naming_instance_metadata/172.26.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:54:59,047 INFO Fail to find the next candidate.

2023-06-14 22:54:59,048 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:54:59,052 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.26.0.4:7848, cost time=4 ms

2023-06-14 22:54:59,052 INFO Shutting down FSMCaller...

2023-06-14 22:54:59,052 INFO onShutdown.

2023-06-14 22:54:59,053 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@30ff1832[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:54:59,053 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@d6213f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:54:59,053 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.26.0.4:7848>'}.

2023-06-14 22:54:59,053 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.26.0.4:7848>'}.

2023-06-14 22:54:59,053 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.26.0.4:7848>'}.

2023-06-14 22:54:59,053 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.26.0.4:7848>'}.

2023-06-14 22:54:59,056 INFO Node <naming_instance_metadata/172.26.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:54:59,057 INFO Stop the RaftGroupService successfully.

2023-06-14 22:54:59,057 INFO Node <naming_persistent_service_v2/172.26.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 22:54:59,058 INFO The number of active nodes decrement to 1.

2023-06-14 22:54:59,061 INFO Fail to find the next candidate.

2023-06-14 22:54:59,062 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 22:54:59,066 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.26.0.4:7848, cost time=2 ms

2023-06-14 22:54:59,066 INFO Shutting down FSMCaller...

2023-06-14 22:54:59,066 INFO onShutdown.

2023-06-14 22:54:59,066 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@6ba7fa99[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:54:59,067 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@518d2683[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:54:59,069 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@10e9c38f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:54:59,069 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.26.0.4:7848>'}.

2023-06-14 22:54:59,069 INFO The number of active nodes decrement to 0.

2023-06-14 22:54:59,071 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@54d08737[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 22:54:59,071 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.26.0.4:7848>'}.

2023-06-14 22:54:59,072 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1c9a1739[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 474].

2023-06-14 22:54:59,072 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.26.0.4:7848>'}.

2023-06-14 22:54:59,077 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4b0b84f8[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 22:54:59,078 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.26.0.4:7848>'}.

2023-06-14 22:54:59,078 INFO Node <naming_persistent_service_v2/172.26.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 22:54:59,078 INFO Stop the RaftGroupService successfully.

2023-06-14 22:54:59,086 INFO Shutdown managed channel: 172.26.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=10, target=172.26.0.4:7848}}.

2023-06-14 22:54:59,095 INFO The channel 172.26.0.4:7848 is in state: SHUTDOWN.

2023-06-14 22:54:59,095 WARN This channel 172.26.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 22:54:59,098 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 22:54:59,098 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 22:54:59,110 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 22:54:59,129 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@69394d72[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 292].

2023-06-14 23:07:56,227 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 23:07:57,092 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 23:07:58,089 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 23:07:58,091 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 23:07:58,092 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 23:07:58,098 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 23:07:58,129 INFO The number of active nodes increment to 1.

2023-06-14 23:07:59,378 INFO Starts FSMCaller successfully.

2023-06-14 23:07:59,467 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 23:08:00,329 INFO Node <naming_persistent_service_v2/172.27.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.27.0.4:7848, oldConf=.

2023-06-14 23:08:00,381 INFO Node <naming_persistent_service_v2/172.27.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:08:00,528 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.27.0.4:7848, cost time=118 ms

2023-06-14 23:08:00,529 INFO Node <naming_persistent_service_v2/172.27.0.4:7848> become leader of group, term=1, conf=172.27.0.4:7848, oldConf=.

2023-06-14 23:08:00,537 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 23:08:00,548 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:08:00,549 INFO Start the RaftGroupService successfully.

2023-06-14 23:08:00,729 INFO onLeaderStart: term=1.

2023-06-14 23:08:01,188 INFO The number of active nodes increment to 2.

2023-06-14 23:08:01,547 INFO Starts FSMCaller successfully.

2023-06-14 23:08:01,548 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 23:08:01,668 INFO Node <naming_instance_metadata/172.27.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.27.0.4:7848, oldConf=.

2023-06-14 23:08:01,691 INFO Node <naming_instance_metadata/172.27.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:08:01,732 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.27.0.4:7848, cost time=19 ms

2023-06-14 23:08:01,782 INFO Node <naming_instance_metadata/172.27.0.4:7848> become leader of group, term=1, conf=172.27.0.4:7848, oldConf=.

2023-06-14 23:08:01,830 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:08:01,830 INFO Start the RaftGroupService successfully.

2023-06-14 23:08:01,845 INFO onLeaderStart: term=1.

2023-06-14 23:08:01,970 INFO The number of active nodes increment to 3.

2023-06-14 23:08:02,581 INFO Starts FSMCaller successfully.

2023-06-14 23:08:02,582 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 23:08:02,596 INFO Node <naming_service_metadata/172.27.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.27.0.4:7848, oldConf=.

2023-06-14 23:08:02,597 INFO Node <naming_service_metadata/172.27.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:08:02,600 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.27.0.4:7848, cost time=3 ms

2023-06-14 23:08:02,600 INFO Node <naming_service_metadata/172.27.0.4:7848> become leader of group, term=1, conf=172.27.0.4:7848, oldConf=.

2023-06-14 23:08:02,603 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:08:02,604 INFO Start the RaftGroupService successfully.

2023-06-14 23:08:02,609 INFO onLeaderStart: term=1.

2023-06-14 23:08:05,234 INFO Creating new channel to: 172.27.0.4:7848.

2023-06-14 23:08:06,272 ERROR Fail to connect 172.27.0.4:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: Deadline exceeded after 0.389491436s. .

2023-06-14 23:08:06,272 ERROR Fail to connect 172.27.0.4:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: Deadline exceeded after 0.779216826s. .

2023-06-14 23:08:06,277 ERROR Fail to connect peer 172.27.0.4:7848 to get leader for group naming_persistent_service_v2.

2023-06-14 23:08:06,278 ERROR Fail to connect peer 172.27.0.4:7848 to get leader for group naming_instance_metadata.

2023-06-14 23:08:06,506 ERROR Fail to connect 172.27.0.4:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after -0.116748992s. [closed=[], open=[[buffered_nanos=31063532, waiting_for_connection]]].

2023-06-14 23:08:06,524 ERROR Fail to connect peer 172.27.0.4:7848 to get leader for group naming_service_metadata.

2023-06-14 23:08:06,729 INFO The channel 172.27.0.4:7848 is in state: CONNECTING.

2023-06-14 23:08:10,299 INFO The channel 172.27.0.4:7848 is in state: READY.

2023-06-14 23:08:10,314 INFO The channel 172.27.0.4:7848 has successfully established.

2023-06-14 23:14:33,838 INFO Node <naming_service_metadata/172.27.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:14:33,874 INFO Fail to find the next candidate.

2023-06-14 23:14:33,879 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:14:33,907 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.27.0.4:7848, cost time=17 ms

2023-06-14 23:14:33,908 INFO Shutting down FSMCaller...

2023-06-14 23:14:33,909 INFO onShutdown.

2023-06-14 23:14:33,913 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@fab6d39[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:14:33,917 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@308d5f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:14:33,917 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.27.0.4:7848>'}.

2023-06-14 23:14:33,918 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.27.0.4:7848>'}.

2023-06-14 23:14:33,918 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.27.0.4:7848>'}.

2023-06-14 23:14:33,918 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.27.0.4:7848>'}.

2023-06-14 23:14:33,920 INFO The number of active nodes decrement to 2.

2023-06-14 23:14:33,922 INFO Node <naming_service_metadata/172.27.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:14:33,922 INFO Stop the RaftGroupService successfully.

2023-06-14 23:14:33,922 INFO Node <naming_instance_metadata/172.27.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:14:33,925 INFO Fail to find the next candidate.

2023-06-14 23:14:33,933 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:14:33,941 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.27.0.4:7848, cost time=5 ms

2023-06-14 23:14:33,942 INFO Shutting down FSMCaller...

2023-06-14 23:14:33,942 INFO onShutdown.

2023-06-14 23:14:33,943 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@4b462bcb[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:14:33,945 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3bec68f0[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:14:33,946 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.27.0.4:7848>'}.

2023-06-14 23:14:33,946 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.27.0.4:7848>'}.

2023-06-14 23:14:33,946 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.27.0.4:7848>'}.

2023-06-14 23:14:33,946 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.27.0.4:7848>'}.

2023-06-14 23:14:33,950 INFO The number of active nodes decrement to 1.

2023-06-14 23:14:33,951 INFO Node <naming_instance_metadata/172.27.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:14:33,954 INFO Stop the RaftGroupService successfully.

2023-06-14 23:14:33,955 INFO Node <naming_persistent_service_v2/172.27.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:14:33,966 INFO Fail to find the next candidate.

2023-06-14 23:14:33,969 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:14:33,978 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.27.0.4:7848, cost time=6 ms

2023-06-14 23:14:33,978 INFO Shutting down FSMCaller...

2023-06-14 23:14:33,978 INFO onShutdown.

2023-06-14 23:14:33,981 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@2360fe50[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:14:33,981 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@59028184[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:14:33,986 INFO The number of active nodes decrement to 0.

2023-06-14 23:14:33,989 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@122fef06[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 23:14:33,991 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.27.0.4:7848>'}.

2023-06-14 23:14:33,999 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1fed99e3[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 23:14:34,001 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.27.0.4:7848>'}.

2023-06-14 23:14:34,004 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6720b3a9[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 466].

2023-06-14 23:14:34,004 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.27.0.4:7848>'}.

2023-06-14 23:14:34,009 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@294b5560[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:14:34,009 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.27.0.4:7848>'}.

2023-06-14 23:14:34,048 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 23:14:34,048 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 23:14:34,049 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 23:14:34,049 INFO Node <naming_persistent_service_v2/172.27.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTDOWN.

2023-06-14 23:14:34,049 INFO Stop the RaftGroupService successfully.

2023-06-14 23:14:34,054 INFO Shutdown managed channel: 172.27.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=10, target=172.27.0.4:7848}}.

2023-06-14 23:14:34,073 INFO The channel 172.27.0.4:7848 is in state: SHUTDOWN.

2023-06-14 23:14:34,073 WARN This channel 172.27.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 23:14:34,130 INFO Connection disconnected: /172.27.0.4:34478

2023-06-14 23:14:34,173 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@176d733b[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 363].

2023-06-14 23:19:55,875 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 23:19:56,377 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 23:19:57,193 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 23:19:57,195 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 23:19:57,203 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 23:19:57,207 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 23:19:57,228 INFO The number of active nodes increment to 1.

2023-06-14 23:19:58,355 INFO Starts FSMCaller successfully.

2023-06-14 23:19:58,372 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 23:19:58,398 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 23:19:58,403 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:19:58,456 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=25 ms

2023-06-14 23:19:58,456 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 23:19:58,508 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 23:19:58,535 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:19:58,535 INFO Start the RaftGroupService successfully.

2023-06-14 23:19:58,589 INFO onLeaderStart: term=1.

2023-06-14 23:19:58,613 INFO The number of active nodes increment to 2.

2023-06-14 23:19:58,993 INFO Creating new channel to: 172.18.0.4:7848.

2023-06-14 23:19:59,249 INFO Starts FSMCaller successfully.

2023-06-14 23:19:59,249 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 23:19:59,253 INFO Node <naming_instance_metadata/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 23:19:59,255 INFO Node <naming_instance_metadata/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:19:59,266 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=2 ms

2023-06-14 23:19:59,266 INFO Node <naming_instance_metadata/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 23:19:59,267 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:19:59,267 INFO Start the RaftGroupService successfully.

2023-06-14 23:19:59,275 INFO The number of active nodes increment to 3.

2023-06-14 23:19:59,278 INFO onLeaderStart: term=1.

2023-06-14 23:19:59,370 INFO The channel 172.18.0.4:7848 is in state: CONNECTING.

2023-06-14 23:19:59,573 INFO The channel 172.18.0.4:7848 is in state: READY.

2023-06-14 23:19:59,582 INFO The channel 172.18.0.4:7848 has successfully established.

2023-06-14 23:19:59,913 INFO Starts FSMCaller successfully.

2023-06-14 23:19:59,913 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 23:19:59,915 INFO Node <naming_service_metadata/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 23:19:59,930 INFO Node <naming_service_metadata/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:19:59,956 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=26 ms

2023-06-14 23:19:59,957 INFO Node <naming_service_metadata/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 23:19:59,963 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:19:59,964 INFO Start the RaftGroupService successfully.

2023-06-14 23:19:59,964 INFO onLeaderStart: term=1.

2023-06-14 23:22:20,438 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:22:20,445 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:22:20,446 INFO Fail to find the next candidate.

2023-06-14 23:22:20,455 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=3 ms

2023-06-14 23:22:20,455 INFO Shutting down FSMCaller...

2023-06-14 23:22:20,470 INFO onShutdown.

2023-06-14 23:22:20,472 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@6168eec4[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:22:20,473 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5de2b947[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:22:20,473 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 23:22:20,473 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 23:22:20,473 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 23:22:20,473 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 23:22:20,479 INFO The number of active nodes decrement to 2.

2023-06-14 23:22:20,482 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:22:20,482 INFO Stop the RaftGroupService successfully.

2023-06-14 23:22:20,482 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:22:20,482 INFO Fail to find the next candidate.

2023-06-14 23:22:20,483 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:22:20,497 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 23:22:20,498 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=13 ms

2023-06-14 23:22:20,498 INFO Shutting down FSMCaller...

2023-06-14 23:22:20,498 INFO onShutdown.

2023-06-14 23:22:20,499 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@22efb936[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:22:20,499 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@a8a8a60[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:22:20,499 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 23:22:20,499 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 23:22:20,499 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 23:22:20,499 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 23:22:20,500 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:22:20,500 INFO Stop the RaftGroupService successfully.

2023-06-14 23:22:20,500 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:22:20,500 INFO The number of active nodes decrement to 1.

2023-06-14 23:22:20,500 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:22:20,500 INFO Fail to find the next candidate.

2023-06-14 23:22:20,511 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=5 ms

2023-06-14 23:22:20,511 INFO Shutting down FSMCaller...

2023-06-14 23:22:20,511 INFO onShutdown.

2023-06-14 23:22:20,527 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 23:22:20,528 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@326c0937[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:22:20,528 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@209ce84e[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:22:20,530 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@161aeebb[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 23:22:20,530 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 23:22:20,530 INFO The number of active nodes decrement to 0.

2023-06-14 23:22:20,532 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2cb5d0fa[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 23:22:20,532 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 23:22:20,533 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@14b6fa86[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 168].

2023-06-14 23:22:20,533 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 23:22:20,535 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3dd030ae[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:22:20,538 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 23:22:20,602 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:22:20,603 INFO Stop the RaftGroupService successfully.

2023-06-14 23:22:20,616 INFO Shutdown managed channel: 172.18.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=20, target=172.18.0.4:7848}}.

2023-06-14 23:22:20,620 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 23:22:20,635 INFO The channel 172.18.0.4:7848 is in state: SHUTDOWN.

2023-06-14 23:22:20,636 WARN This channel 172.18.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 23:22:20,665 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@4005246[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 126].

2023-06-14 23:22:20,666 INFO Connection disconnected: /172.18.0.4:47404

2023-06-14 23:23:15,715 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 23:23:16,110 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 23:23:16,844 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 23:23:16,856 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 23:23:16,857 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 23:23:16,860 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 23:23:16,912 INFO The number of active nodes increment to 1.

2023-06-14 23:23:17,519 INFO Starts FSMCaller successfully.

2023-06-14 23:23:17,547 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 23:23:17,608 INFO Node <naming_persistent_service_v2/172.19.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.19.0.4:7848, oldConf=.

2023-06-14 23:23:17,634 INFO Node <naming_persistent_service_v2/172.19.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:23:17,683 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.19.0.4:7848, cost time=34 ms

2023-06-14 23:23:17,683 INFO Node <naming_persistent_service_v2/172.19.0.4:7848> become leader of group, term=1, conf=172.19.0.4:7848, oldConf=.

2023-06-14 23:23:17,689 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 23:23:17,724 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:23:17,729 INFO Start the RaftGroupService successfully.

2023-06-14 23:23:17,777 INFO The number of active nodes increment to 2.

2023-06-14 23:23:17,788 INFO onLeaderStart: term=1.

2023-06-14 23:23:17,947 INFO Starts FSMCaller successfully.

2023-06-14 23:23:17,947 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 23:23:17,955 INFO Node <naming_instance_metadata/172.19.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.19.0.4:7848, oldConf=.

2023-06-14 23:23:17,961 INFO Node <naming_instance_metadata/172.19.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:23:17,969 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.19.0.4:7848, cost time=7 ms

2023-06-14 23:23:17,969 INFO Node <naming_instance_metadata/172.19.0.4:7848> become leader of group, term=1, conf=172.19.0.4:7848, oldConf=.

2023-06-14 23:23:17,971 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:23:17,971 INFO Start the RaftGroupService successfully.

2023-06-14 23:23:17,972 INFO onLeaderStart: term=1.

2023-06-14 23:23:17,984 INFO The number of active nodes increment to 3.

2023-06-14 23:23:18,063 INFO Starts FSMCaller successfully.

2023-06-14 23:23:18,063 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 23:23:18,064 INFO Node <naming_service_metadata/172.19.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.19.0.4:7848, oldConf=.

2023-06-14 23:23:18,064 INFO Node <naming_service_metadata/172.19.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:23:18,066 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.19.0.4:7848, cost time=2 ms

2023-06-14 23:23:18,066 INFO Node <naming_service_metadata/172.19.0.4:7848> become leader of group, term=1, conf=172.19.0.4:7848, oldConf=.

2023-06-14 23:23:18,066 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:23:18,066 INFO Start the RaftGroupService successfully.

2023-06-14 23:23:18,074 INFO onLeaderStart: term=1.

2023-06-14 23:23:18,153 INFO Creating new channel to: 172.19.0.4:7848.

2023-06-14 23:23:18,367 INFO The channel 172.19.0.4:7848 is in state: CONNECTING.

2023-06-14 23:23:18,657 INFO The channel 172.19.0.4:7848 is in state: READY.

2023-06-14 23:23:18,657 INFO The channel 172.19.0.4:7848 has successfully established.

2023-06-14 23:24:18,168 INFO Node <naming_service_metadata/172.19.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:24:18,186 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:24:18,187 INFO Fail to find the next candidate.

2023-06-14 23:24:18,203 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.19.0.4:7848, cost time=9 ms

2023-06-14 23:24:18,203 INFO Shutting down FSMCaller...

2023-06-14 23:24:18,204 INFO onShutdown.

2023-06-14 23:24:18,205 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@77e9c7c2[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:24:18,206 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1e9aba47[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:24:18,207 INFO The number of active nodes decrement to 2.

2023-06-14 23:24:18,207 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.19.0.4:7848>'}.

2023-06-14 23:24:18,207 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.19.0.4:7848>'}.

2023-06-14 23:24:18,207 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.19.0.4:7848>'}.

2023-06-14 23:24:18,207 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.19.0.4:7848>'}.

2023-06-14 23:24:18,209 INFO Node <naming_service_metadata/172.19.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:24:18,210 INFO Stop the RaftGroupService successfully.

2023-06-14 23:24:18,210 INFO Node <naming_instance_metadata/172.19.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:24:18,211 INFO Fail to find the next candidate.

2023-06-14 23:24:18,211 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:24:18,224 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 23:24:18,224 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.19.0.4:7848, cost time=12 ms

2023-06-14 23:24:18,224 INFO Shutting down FSMCaller...

2023-06-14 23:24:18,224 INFO onShutdown.

2023-06-14 23:24:18,227 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@41835c92[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:24:18,227 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@15cb4200[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:24:18,227 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.19.0.4:7848>'}.

2023-06-14 23:24:18,227 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.19.0.4:7848>'}.

2023-06-14 23:24:18,227 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.19.0.4:7848>'}.

2023-06-14 23:24:18,227 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.19.0.4:7848>'}.

2023-06-14 23:24:18,228 INFO Node <naming_instance_metadata/172.19.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:24:18,228 INFO Stop the RaftGroupService successfully.

2023-06-14 23:24:18,228 INFO Node <naming_persistent_service_v2/172.19.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:24:18,229 INFO Fail to find the next candidate.

2023-06-14 23:24:18,229 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:24:18,232 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.19.0.4:7848, cost time=3 ms

2023-06-14 23:24:18,232 INFO Shutting down FSMCaller...

2023-06-14 23:24:18,232 INFO onShutdown.

2023-06-14 23:24:18,234 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@40dc22ab[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:24:18,234 INFO The number of active nodes decrement to 1.

2023-06-14 23:24:18,234 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1be091ee[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:24:18,239 INFO The number of active nodes decrement to 0.

2023-06-14 23:24:18,239 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@773a37af[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 23:24:18,239 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.19.0.4:7848>'}.

2023-06-14 23:24:18,246 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 23:24:18,247 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@32910cb3[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 23:24:18,247 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.19.0.4:7848>'}.

2023-06-14 23:24:18,248 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@54741bd0[Shutting down, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 72].

2023-06-14 23:24:18,248 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.19.0.4:7848>'}.

2023-06-14 23:24:18,248 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@67c3111a[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:24:18,249 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.19.0.4:7848>'}.

2023-06-14 23:24:18,250 INFO Node <naming_persistent_service_v2/172.19.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:24:18,250 INFO Stop the RaftGroupService successfully.

2023-06-14 23:24:18,253 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 23:24:18,262 INFO Shutdown managed channel: 172.19.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=13, target=172.19.0.4:7848}}.

2023-06-14 23:24:18,267 INFO The channel 172.19.0.4:7848 is in state: SHUTDOWN.

2023-06-14 23:24:18,268 WARN This channel 172.19.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 23:24:18,274 INFO Connection disconnected: /172.19.0.4:38546

2023-06-14 23:24:18,291 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@234a7fd6[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 50].

2023-06-14 23:29:16,578 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 23:29:16,724 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 23:29:17,055 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 23:29:17,063 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 23:29:17,063 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 23:29:17,071 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 23:29:17,089 INFO The number of active nodes increment to 1.

2023-06-14 23:29:17,535 INFO Starts FSMCaller successfully.

2023-06-14 23:29:17,551 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 23:29:17,578 INFO Node <naming_persistent_service_v2/172.20.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.20.0.4:7848, oldConf=.

2023-06-14 23:29:17,590 INFO Node <naming_persistent_service_v2/172.20.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:29:17,677 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.20.0.4:7848, cost time=54 ms

2023-06-14 23:29:17,677 INFO Node <naming_persistent_service_v2/172.20.0.4:7848> become leader of group, term=1, conf=172.20.0.4:7848, oldConf=.

2023-06-14 23:29:17,687 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 23:29:17,706 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:29:17,706 INFO Start the RaftGroupService successfully.

2023-06-14 23:29:17,764 INFO onLeaderStart: term=1.

2023-06-14 23:29:17,827 INFO The number of active nodes increment to 2.

2023-06-14 23:29:18,037 INFO Starts FSMCaller successfully.

2023-06-14 23:29:18,037 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 23:29:18,070 INFO Node <naming_instance_metadata/172.20.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.20.0.4:7848, oldConf=.

2023-06-14 23:29:18,086 INFO Node <naming_instance_metadata/172.20.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:29:18,120 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.20.0.4:7848, cost time=2 ms

2023-06-14 23:29:18,120 INFO Node <naming_instance_metadata/172.20.0.4:7848> become leader of group, term=1, conf=172.20.0.4:7848, oldConf=.

2023-06-14 23:29:18,122 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:29:18,122 INFO Start the RaftGroupService successfully.

2023-06-14 23:29:18,159 INFO onLeaderStart: term=1.

2023-06-14 23:29:18,161 INFO The number of active nodes increment to 3.

2023-06-14 23:29:18,183 INFO Creating new channel to: 172.20.0.4:7848.

2023-06-14 23:29:18,382 INFO Starts FSMCaller successfully.

2023-06-14 23:29:18,382 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 23:29:18,409 INFO The channel 172.20.0.4:7848 is in state: CONNECTING.

2023-06-14 23:29:18,427 INFO Node <naming_service_metadata/172.20.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.20.0.4:7848, oldConf=.

2023-06-14 23:29:18,427 INFO Node <naming_service_metadata/172.20.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:29:18,429 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.20.0.4:7848, cost time=2 ms

2023-06-14 23:29:18,429 INFO Node <naming_service_metadata/172.20.0.4:7848> become leader of group, term=1, conf=172.20.0.4:7848, oldConf=.

2023-06-14 23:29:18,429 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:29:18,429 INFO Start the RaftGroupService successfully.

2023-06-14 23:29:18,459 INFO onLeaderStart: term=1.

2023-06-14 23:29:18,672 INFO The channel 172.20.0.4:7848 is in state: READY.

2023-06-14 23:29:18,672 INFO The channel 172.20.0.4:7848 has successfully established.

2023-06-14 23:29:54,403 INFO Node <naming_service_metadata/172.20.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:29:54,415 INFO Fail to find the next candidate.

2023-06-14 23:29:54,416 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:29:54,431 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.20.0.4:7848, cost time=5 ms

2023-06-14 23:29:54,432 INFO Shutting down FSMCaller...

2023-06-14 23:29:54,432 INFO onShutdown.

2023-06-14 23:29:54,436 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@1566bbb0[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:29:54,437 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@79394df0[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:29:54,437 INFO The number of active nodes decrement to 2.

2023-06-14 23:29:54,439 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.20.0.4:7848>'}.

2023-06-14 23:29:54,439 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.20.0.4:7848>'}.

2023-06-14 23:29:54,439 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.20.0.4:7848>'}.

2023-06-14 23:29:54,439 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.20.0.4:7848>'}.

2023-06-14 23:29:54,447 INFO Node <naming_service_metadata/172.20.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:29:54,447 INFO Stop the RaftGroupService successfully.

2023-06-14 23:29:54,447 INFO Node <naming_instance_metadata/172.20.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:29:54,450 INFO Fail to find the next candidate.

2023-06-14 23:29:54,451 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 23:29:54,451 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:29:54,467 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.20.0.4:7848, cost time=15 ms

2023-06-14 23:29:54,467 INFO Shutting down FSMCaller...

2023-06-14 23:29:54,467 INFO onShutdown.

2023-06-14 23:29:54,469 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@30a126b5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:29:54,469 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4a75acff[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:29:54,469 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.20.0.4:7848>'}.

2023-06-14 23:29:54,469 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.20.0.4:7848>'}.

2023-06-14 23:29:54,469 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.20.0.4:7848>'}.

2023-06-14 23:29:54,469 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.20.0.4:7848>'}.

2023-06-14 23:29:54,469 INFO The number of active nodes decrement to 1.

2023-06-14 23:29:54,471 INFO Node <naming_instance_metadata/172.20.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:29:54,471 INFO Stop the RaftGroupService successfully.

2023-06-14 23:29:54,471 INFO Node <naming_persistent_service_v2/172.20.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:29:54,472 INFO Fail to find the next candidate.

2023-06-14 23:29:54,472 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:29:54,475 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 23:29:54,478 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.20.0.4:7848, cost time=6 ms

2023-06-14 23:29:54,478 INFO Shutting down FSMCaller...

2023-06-14 23:29:54,479 INFO onShutdown.

2023-06-14 23:29:54,479 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@4cf27085[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:29:54,503 INFO The number of active nodes decrement to 0.

2023-06-14 23:29:54,509 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6a7fef56[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:29:54,511 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6834945d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 23:29:54,511 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.20.0.4:7848>'}.

2023-06-14 23:29:54,511 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@69f68e4c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 23:29:54,512 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.20.0.4:7848>'}.

2023-06-14 23:29:54,512 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@427d224b[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 42].

2023-06-14 23:29:54,512 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.20.0.4:7848>'}.

2023-06-14 23:29:54,513 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@78e61e6f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:29:54,513 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.20.0.4:7848>'}.

2023-06-14 23:29:54,516 INFO Node <naming_persistent_service_v2/172.20.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:29:54,517 INFO Stop the RaftGroupService successfully.

2023-06-14 23:29:54,520 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 23:29:54,521 INFO Shutdown managed channel: 172.20.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=11, target=172.20.0.4:7848}}.

2023-06-14 23:29:54,525 INFO The channel 172.20.0.4:7848 is in state: SHUTDOWN.

2023-06-14 23:29:54,525 WARN This channel 172.20.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 23:29:54,534 INFO Connection disconnected: /172.20.0.4:47554

2023-06-14 23:29:54,548 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@6aea1cef[Shutting down, pool size = 19, active threads = 0, queued tasks = 0, completed tasks = 38].

2023-06-14 23:31:41,389 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 23:31:41,557 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 23:31:41,953 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 23:31:41,959 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 23:31:41,959 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 23:31:41,961 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 23:31:41,976 INFO The number of active nodes increment to 1.

2023-06-14 23:31:42,437 INFO Starts FSMCaller successfully.

2023-06-14 23:31:42,455 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 23:31:42,495 INFO Node <naming_persistent_service_v2/172.21.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.21.0.4:7848, oldConf=.

2023-06-14 23:31:42,502 INFO Node <naming_persistent_service_v2/172.21.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:31:42,546 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.21.0.4:7848, cost time=25 ms

2023-06-14 23:31:42,546 INFO Node <naming_persistent_service_v2/172.21.0.4:7848> become leader of group, term=1, conf=172.21.0.4:7848, oldConf=.

2023-06-14 23:31:42,549 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 23:31:42,557 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:31:42,557 INFO Start the RaftGroupService successfully.

2023-06-14 23:31:42,564 INFO onLeaderStart: term=1.

2023-06-14 23:31:42,632 INFO The number of active nodes increment to 2.

2023-06-14 23:31:42,738 INFO Starts FSMCaller successfully.

2023-06-14 23:31:42,739 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 23:31:42,749 INFO Node <naming_instance_metadata/172.21.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.21.0.4:7848, oldConf=.

2023-06-14 23:31:42,750 INFO Node <naming_instance_metadata/172.21.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:31:42,752 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.21.0.4:7848, cost time=2 ms

2023-06-14 23:31:42,752 INFO Node <naming_instance_metadata/172.21.0.4:7848> become leader of group, term=1, conf=172.21.0.4:7848, oldConf=.

2023-06-14 23:31:42,753 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:31:42,754 INFO Start the RaftGroupService successfully.

2023-06-14 23:31:42,754 INFO onLeaderStart: term=1.

2023-06-14 23:31:42,800 INFO The number of active nodes increment to 3.

2023-06-14 23:31:42,918 INFO Starts FSMCaller successfully.

2023-06-14 23:31:42,919 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 23:31:42,928 INFO Node <naming_service_metadata/172.21.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.21.0.4:7848, oldConf=.

2023-06-14 23:31:42,929 INFO Node <naming_service_metadata/172.21.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:31:42,933 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.21.0.4:7848, cost time=4 ms

2023-06-14 23:31:42,934 INFO Node <naming_service_metadata/172.21.0.4:7848> become leader of group, term=1, conf=172.21.0.4:7848, oldConf=.

2023-06-14 23:31:42,934 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:31:42,940 INFO Start the RaftGroupService successfully.

2023-06-14 23:31:42,964 INFO onLeaderStart: term=1.

2023-06-14 23:31:43,070 INFO Creating new channel to: 172.21.0.4:7848.

2023-06-14 23:31:43,218 INFO The channel 172.21.0.4:7848 is in state: CONNECTING.

2023-06-14 23:31:43,507 INFO The channel 172.21.0.4:7848 is in state: READY.

2023-06-14 23:31:43,507 INFO The channel 172.21.0.4:7848 has successfully established.

2023-06-14 23:32:35,901 INFO Node <naming_service_metadata/172.21.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:32:35,910 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:32:35,906 INFO Fail to find the next candidate.

2023-06-14 23:32:35,926 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.21.0.4:7848, cost time=7 ms

2023-06-14 23:32:35,927 INFO Shutting down FSMCaller...

2023-06-14 23:32:35,928 INFO onShutdown.

2023-06-14 23:32:35,930 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@286ef7eb[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:32:35,931 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@22a3c7c5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:32:35,931 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.21.0.4:7848>'}.

2023-06-14 23:32:35,931 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.21.0.4:7848>'}.

2023-06-14 23:32:35,931 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.21.0.4:7848>'}.

2023-06-14 23:32:35,932 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.21.0.4:7848>'}.

2023-06-14 23:32:35,932 INFO The number of active nodes decrement to 2.

2023-06-14 23:32:35,941 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 23:32:35,941 INFO Node <naming_service_metadata/172.21.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTDOWN.

2023-06-14 23:32:35,942 INFO Stop the RaftGroupService successfully.

2023-06-14 23:32:35,942 INFO Node <naming_instance_metadata/172.21.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:32:35,943 INFO Fail to find the next candidate.

2023-06-14 23:32:35,943 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:32:35,946 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.21.0.4:7848, cost time=3 ms

2023-06-14 23:32:35,947 INFO Shutting down FSMCaller...

2023-06-14 23:32:35,947 INFO onShutdown.

2023-06-14 23:32:35,951 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@54a98e6c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:32:35,951 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5ea09be5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:32:35,951 INFO The number of active nodes decrement to 1.

2023-06-14 23:32:35,951 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.21.0.4:7848>'}.

2023-06-14 23:32:35,951 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.21.0.4:7848>'}.

2023-06-14 23:32:35,951 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.21.0.4:7848>'}.

2023-06-14 23:32:35,952 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.21.0.4:7848>'}.

2023-06-14 23:32:35,953 INFO Node <naming_instance_metadata/172.21.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:32:35,954 INFO Stop the RaftGroupService successfully.

2023-06-14 23:32:35,954 INFO Node <naming_persistent_service_v2/172.21.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:32:35,954 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:32:35,954 INFO Fail to find the next candidate.

2023-06-14 23:32:35,960 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 23:32:35,963 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.21.0.4:7848, cost time=8 ms

2023-06-14 23:32:35,964 INFO Shutting down FSMCaller...

2023-06-14 23:32:35,964 INFO onShutdown.

2023-06-14 23:32:35,964 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@5762398a[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:32:35,965 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4fa007e4[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:32:35,965 INFO The number of active nodes decrement to 0.

2023-06-14 23:32:35,966 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@246372bc[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 23:32:35,967 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.21.0.4:7848>'}.

2023-06-14 23:32:35,967 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3b3be4fe[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 23:32:35,967 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.21.0.4:7848>'}.

2023-06-14 23:32:35,968 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@33fb7396[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 63].

2023-06-14 23:32:35,968 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.21.0.4:7848>'}.

2023-06-14 23:32:35,968 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@63bd64ea[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:32:35,968 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.21.0.4:7848>'}.

2023-06-14 23:32:35,969 INFO Node <naming_persistent_service_v2/172.21.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:32:35,971 INFO Stop the RaftGroupService successfully.

2023-06-14 23:32:35,978 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 23:32:35,979 INFO Shutdown managed channel: 172.21.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=11, target=172.21.0.4:7848}}.

2023-06-14 23:32:35,982 INFO The channel 172.21.0.4:7848 is in state: SHUTDOWN.

2023-06-14 23:32:35,982 WARN This channel 172.21.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 23:32:36,002 INFO Connection disconnected: /172.21.0.4:60378

2023-06-14 23:32:36,014 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@6aea1cef[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 46].

2023-06-14 23:32:57,325 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 23:32:57,415 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 23:32:57,620 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 23:32:57,621 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 23:32:57,621 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 23:32:57,625 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 23:32:57,628 INFO The number of active nodes increment to 1.

2023-06-14 23:32:57,891 INFO Starts FSMCaller successfully.

2023-06-14 23:32:57,901 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 23:32:57,925 INFO Node <naming_persistent_service_v2/172.22.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.22.0.4:7848, oldConf=.

2023-06-14 23:32:57,933 INFO Node <naming_persistent_service_v2/172.22.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:32:57,964 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.22.0.4:7848, cost time=22 ms

2023-06-14 23:32:57,964 INFO Node <naming_persistent_service_v2/172.22.0.4:7848> become leader of group, term=1, conf=172.22.0.4:7848, oldConf=.

2023-06-14 23:32:57,969 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 23:32:57,973 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:32:57,973 INFO Start the RaftGroupService successfully.

2023-06-14 23:32:57,989 INFO onLeaderStart: term=1.

2023-06-14 23:32:58,024 INFO The number of active nodes increment to 2.

2023-06-14 23:32:58,094 INFO Starts FSMCaller successfully.

2023-06-14 23:32:58,094 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 23:32:58,103 INFO Node <naming_instance_metadata/172.22.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.22.0.4:7848, oldConf=.

2023-06-14 23:32:58,104 INFO Node <naming_instance_metadata/172.22.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:32:58,108 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.22.0.4:7848, cost time=3 ms

2023-06-14 23:32:58,109 INFO Node <naming_instance_metadata/172.22.0.4:7848> become leader of group, term=1, conf=172.22.0.4:7848, oldConf=.

2023-06-14 23:32:58,109 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:32:58,109 INFO Start the RaftGroupService successfully.

2023-06-14 23:32:58,114 INFO onLeaderStart: term=1.

2023-06-14 23:32:58,116 INFO The number of active nodes increment to 3.

2023-06-14 23:32:58,156 INFO Starts FSMCaller successfully.

2023-06-14 23:32:58,156 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 23:32:58,157 INFO Node <naming_service_metadata/172.22.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.22.0.4:7848, oldConf=.

2023-06-14 23:32:58,158 INFO Node <naming_service_metadata/172.22.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:32:58,160 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.22.0.4:7848, cost time=1 ms

2023-06-14 23:32:58,160 INFO Node <naming_service_metadata/172.22.0.4:7848> become leader of group, term=1, conf=172.22.0.4:7848, oldConf=.

2023-06-14 23:32:58,160 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:32:58,160 INFO Start the RaftGroupService successfully.

2023-06-14 23:32:58,167 INFO onLeaderStart: term=1.

2023-06-14 23:32:58,197 INFO Creating new channel to: 172.22.0.4:7848.

2023-06-14 23:32:58,329 INFO The channel 172.22.0.4:7848 is in state: CONNECTING.

2023-06-14 23:32:59,006 INFO The channel 172.22.0.4:7848 is in state: READY.

2023-06-14 23:32:59,006 INFO The channel 172.22.0.4:7848 has successfully established.

2023-06-14 23:32:59,212 ERROR Fail to connect 172.22.0.4:7848, remoting exception: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 0.908205156s. [closed=[], open=[[buffered_nanos=698275898, remote_addr=172.22.0.4/172.22.0.4:7848]]].

2023-06-14 23:32:59,212 ERROR Fail to connect peer 172.22.0.4:7848 to get leader for group naming_persistent_service_v2.

2023-06-14 23:37:40,529 INFO Node <naming_service_metadata/172.22.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:37:40,532 INFO Fail to find the next candidate.

2023-06-14 23:37:40,532 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:37:40,544 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.22.0.4:7848, cost time=11 ms

2023-06-14 23:37:40,544 INFO Shutting down FSMCaller...

2023-06-14 23:37:40,545 INFO onShutdown.

2023-06-14 23:37:40,551 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@790ce29e[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:37:40,551 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3fa2d354[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:37:40,551 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.22.0.4:7848>'}.

2023-06-14 23:37:40,551 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.22.0.4:7848>'}.

2023-06-14 23:37:40,551 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.22.0.4:7848>'}.

2023-06-14 23:37:40,551 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.22.0.4:7848>'}.

2023-06-14 23:37:40,555 INFO The number of active nodes decrement to 2.

2023-06-14 23:37:40,556 INFO Node <naming_service_metadata/172.22.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:37:40,556 INFO Stop the RaftGroupService successfully.

2023-06-14 23:37:40,556 INFO Node <naming_instance_metadata/172.22.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:37:40,557 INFO Fail to find the next candidate.

2023-06-14 23:37:40,563 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:37:40,572 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.22.0.4:7848, cost time=14 ms

2023-06-14 23:37:40,572 INFO Shutting down FSMCaller...

2023-06-14 23:37:40,572 INFO onShutdown.

2023-06-14 23:37:40,573 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@7b0f261f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:37:40,573 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@7f807b53[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:37:40,573 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.22.0.4:7848>'}.

2023-06-14 23:37:40,573 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.22.0.4:7848>'}.

2023-06-14 23:37:40,573 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.22.0.4:7848>'}.

2023-06-14 23:37:40,573 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.22.0.4:7848>'}.

2023-06-14 23:37:40,574 INFO Node <naming_instance_metadata/172.22.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:37:40,584 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 23:37:40,584 INFO Stop the RaftGroupService successfully.

2023-06-14 23:37:40,584 INFO Node <naming_persistent_service_v2/172.22.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:37:40,584 INFO Fail to find the next candidate.

2023-06-14 23:37:40,585 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:37:40,587 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.22.0.4:7848, cost time=2 ms

2023-06-14 23:37:40,587 INFO Shutting down FSMCaller...

2023-06-14 23:37:40,587 INFO onShutdown.

2023-06-14 23:37:40,587 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@5c13d83b[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:37:40,587 INFO The number of active nodes decrement to 1.

2023-06-14 23:37:40,587 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5e2e3278[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:37:40,588 INFO The number of active nodes decrement to 0.

2023-06-14 23:37:40,588 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@668c3980[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 23:37:40,591 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.22.0.4:7848>'}.

2023-06-14 23:37:40,592 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 23:37:40,591 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3511456e[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 23:37:40,592 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.22.0.4:7848>'}.

2023-06-14 23:37:40,592 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@2250ea89[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 337].

2023-06-14 23:37:40,592 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.22.0.4:7848>'}.

2023-06-14 23:37:40,593 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@7b85d7fa[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:37:40,593 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.22.0.4:7848>'}.

2023-06-14 23:37:40,593 INFO Node <naming_persistent_service_v2/172.22.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:37:40,593 INFO Stop the RaftGroupService successfully.

2023-06-14 23:37:40,594 INFO Shutdown managed channel: 172.22.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=10, target=172.22.0.4:7848}}.

2023-06-14 23:37:40,595 INFO The channel 172.22.0.4:7848 is in state: SHUTDOWN.

2023-06-14 23:37:40,595 WARN This channel 172.22.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 23:37:40,605 INFO Connection disconnected: /172.22.0.4:55250

2023-06-14 23:37:40,605 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 23:37:40,612 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@1f0ae42f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 198].

2023-06-14 23:40:03,528 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-06-14 23:40:03,626 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-06-14 23:40:03,790 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-06-14 23:40:03,791 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-06-14 23:40:03,792 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-06-14 23:40:03,794 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-06-14 23:40:03,798 INFO The number of active nodes increment to 1.

2023-06-14 23:40:04,219 INFO Starts FSMCaller successfully.

2023-06-14 23:40:04,228 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-06-14 23:40:04,239 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 23:40:04,241 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:40:04,271 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=20 ms

2023-06-14 23:40:04,271 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 23:40:04,275 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-06-14 23:40:04,279 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:40:04,279 INFO Start the RaftGroupService successfully.

2023-06-14 23:40:04,310 INFO onLeaderStart: term=1.

2023-06-14 23:40:04,314 INFO The number of active nodes increment to 2.

2023-06-14 23:40:04,485 INFO Starts FSMCaller successfully.

2023-06-14 23:40:04,485 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-06-14 23:40:04,487 INFO Node <naming_instance_metadata/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 23:40:04,489 INFO Node <naming_instance_metadata/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:40:04,492 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=2 ms

2023-06-14 23:40:04,492 INFO Node <naming_instance_metadata/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 23:40:04,493 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:40:04,493 INFO Start the RaftGroupService successfully.

2023-06-14 23:40:04,497 INFO onLeaderStart: term=1.

2023-06-14 23:40:04,501 INFO The number of active nodes increment to 3.

2023-06-14 23:40:04,550 INFO Creating new channel to: 172.18.0.4:7848.

2023-06-14 23:40:04,679 INFO Starts FSMCaller successfully.

2023-06-14 23:40:04,679 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-06-14 23:40:04,681 INFO Node <naming_service_metadata/172.18.0.4:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.4:7848, oldConf=.

2023-06-14 23:40:04,682 INFO Node <naming_service_metadata/172.18.0.4:7848> start vote and grant vote self, term=0.

2023-06-14 23:40:04,684 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=1 ms

2023-06-14 23:40:04,685 INFO Node <naming_service_metadata/172.18.0.4:7848> become leader of group, term=1, conf=172.18.0.4:7848, oldConf=.

2023-06-14 23:40:04,686 WARN RPC server is not started in RaftGroupService.

2023-06-14 23:40:04,686 INFO Start the RaftGroupService successfully.

2023-06-14 23:40:04,686 INFO onLeaderStart: term=1.

2023-06-14 23:40:04,705 INFO The channel 172.18.0.4:7848 is in state: CONNECTING.

2023-06-14 23:40:05,066 INFO The channel 172.18.0.4:7848 is in state: READY.

2023-06-14 23:40:05,067 INFO The channel 172.18.0.4:7848 has successfully established.

2023-06-14 23:42:29,504 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:42:29,506 INFO Fail to find the next candidate.

2023-06-14 23:42:29,506 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:42:29,512 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=3 ms

2023-06-14 23:42:29,512 INFO Shutting down FSMCaller...

2023-06-14 23:42:29,512 INFO onShutdown.

2023-06-14 23:42:29,514 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@368cd60d[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:42:29,515 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@7c16a01c[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:42:29,515 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 23:42:29,515 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 23:42:29,515 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 23:42:29,515 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.18.0.4:7848>'}.

2023-06-14 23:42:29,516 INFO Node <naming_service_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:42:29,516 INFO The number of active nodes decrement to 2.

2023-06-14 23:42:29,517 INFO Stop the RaftGroupService successfully.

2023-06-14 23:42:29,517 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:42:29,518 INFO Fail to find the next candidate.

2023-06-14 23:42:29,518 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:42:29,519 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-06-14 23:42:29,521 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=3 ms

2023-06-14 23:42:29,521 INFO Shutting down FSMCaller...

2023-06-14 23:42:29,521 INFO onShutdown.

2023-06-14 23:42:29,522 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@64e51a24[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:42:29,522 INFO The number of active nodes decrement to 1.

2023-06-14 23:42:29,522 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@12bcaea5[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:42:29,522 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 23:42:29,522 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 23:42:29,522 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 23:42:29,522 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.18.0.4:7848>'}.

2023-06-14 23:42:29,522 INFO Node <naming_instance_metadata/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-06-14 23:42:29,523 INFO Stop the RaftGroupService successfully.

2023-06-14 23:42:29,523 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-06-14 23:42:29,526 INFO Fail to find the next candidate.

2023-06-14 23:42:29,526 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-06-14 23:42:29,526 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-06-14 23:42:29,528 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.4:7848, cost time=2 ms

2023-06-14 23:42:29,529 INFO Shutting down FSMCaller...

2023-06-14 23:42:29,529 INFO onShutdown.

2023-06-14 23:42:29,529 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@5b63eaae[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:42:29,529 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@23e236fa[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:42:29,529 INFO The number of active nodes decrement to 0.

2023-06-14 23:42:29,530 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3390a15a[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 23:42:29,531 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 23:42:29,531 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6f1a3c98[Shutting down, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-06-14 23:42:29,531 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 23:42:29,532 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@1771dd93[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 173].

2023-06-14 23:42:29,532 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 23:42:29,533 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3d5e0d31[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-06-14 23:42:29,533 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.18.0.4:7848>'}.

2023-06-14 23:42:29,536 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-06-14 23:42:29,536 INFO Node <naming_persistent_service_v2/172.18.0.4:7848> shutdown, currTerm=1 state=STATE_SHUTDOWN.

2023-06-14 23:42:29,537 INFO Stop the RaftGroupService successfully.

2023-06-14 23:42:29,538 INFO Shutdown managed channel: 172.18.0.4:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=10, target=172.18.0.4:7848}}.

2023-06-14 23:42:29,539 INFO The channel 172.18.0.4:7848 is in state: SHUTDOWN.

2023-06-14 23:42:29,539 WARN This channel 172.18.0.4:7848 has started shutting down. Any new RPCs should fail immediately.

2023-06-14 23:42:29,542 INFO Connection disconnected: /172.18.0.4:53718

2023-06-14 23:42:29,547 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@28ef44ef[Shutting down, pool size = 12, active threads = 0, queued tasks = 0, completed tasks = 138].

